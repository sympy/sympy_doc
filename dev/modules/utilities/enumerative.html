<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Enumerative &mdash; SymPy 0.7.5-git documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-core.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-autocomplete.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.5-git',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/utilities.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/external/classy.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-core.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-autocomplete.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-sphinx.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../../_static/sympy-notailtext-favicon.ico"/>
    <link rel="top" title="SymPy 0.7.5-git documentation" href="../../index.html" />
    <link rel="up" title="Utilities" href="index.html" />
    <link rel="next" title="Iterables" href="iterables.html" />
    <link rel="prev" title="Decorator" href="decorator.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iterables.html" title="Iterables"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="decorator.html" title="Decorator"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">SymPy 0.7.5-git documentation</a> &raquo;</li>
          <li><a href="../index.html" >SymPy Modules Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Utilities</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-sympy.utilities.enumerative">
<span id="enumerative"></span><h1>Enumerative<a class="headerlink" href="#module-sympy.utilities.enumerative" title="Permalink to this headline">¶</a></h1>
<p>This module includes functions and classes for enumerating and
counting multiset partitions.</p>
<dl class="function">
<dt id="sympy.utilities.enumerative.multiset_partitions_taocp">
<tt class="descclassname">sympy.utilities.enumerative.</tt><tt class="descname">multiset_partitions_taocp</tt><big>(</big><em>multiplicities</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#multiset_partitions_taocp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.multiset_partitions_taocp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerates partions of a multiset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>multiplicities</strong> :</p>
<blockquote class="last">
<div><p>list of integer multiplicities of the components of the multiset.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">sympy.utilities.iterables.multiset_partititions</span></tt></dt>
<dd>Takes a multiset as input and directly yields multiset partitions.  It dispatches to a number of functions, including this one, for implementation.  Most users will find it more convenient to use than multiset_partitions_taocp.</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">multiset_partitions_taocp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># variables components and multiplicities represent the multiset &#39;abb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">components</span> <span class="o">=</span> <span class="s">&#39;ab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multiplicities</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">multiset_partitions_taocp</span><span class="p">(</span><span class="n">multiplicities</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">list_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">components</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[[&#39;a&#39;, &#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;b&#39;], [&#39;b&#39;]]]</span>
</pre></div>
</div>
<p class="rubric">Yields</p>
<dl class="docutils">
<dt>state</dt>
<dd><p class="first">Internal data structure which encodes a particular partition.
This output is then usually processed by a vistor function
which combines the information from this data structure with
the components themselves to produce an actual partition.</p>
<p>Unless they wish to create their own visitor function, users will
have little need to look inside this data structure.  But, for
reference, it is a 3-element list with components:</p>
<dl class="docutils">
<dt>f</dt>
<dd>is a frame array, which is used to divide pstack into parts.</dd>
<dt>lpart</dt>
<dd>points to the base of the topmost part.</dd>
<dt>pstack</dt>
<dd>is an array of PartComponent objects.</dd>
</dl>
<p class="last">The <tt class="docutils literal"><span class="pre">state</span></tt> output offers a peek into the internal data
structures of the enumeration function.  The client should
treat this as read-only; any modification of the data
structure will cause unpredictable (and almost certainly
incorrect) results.  Also, the components of <tt class="docutils literal"><span class="pre">state</span></tt> are
modified in place at each iteration.  Hence, the visitor must
be called at each loop iteration.  Accumulating the <tt class="docutils literal"><span class="pre">state</span></tt>
instances and processing them later will not work.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="sympy.utilities.enumerative.factoring_visitor">
<tt class="descclassname">sympy.utilities.enumerative.</tt><tt class="descname">factoring_visitor</tt><big>(</big><em>state</em>, <em>primes</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#factoring_visitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.factoring_visitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Use with multiset_partitions_taocp to enumerate the ways a
number can be expressed as a product of factors.  For this usage,
the exponents of the prime factors of a number are arguments to
the partition enumerator, while the corresponding prime factors
are input here.</p>
<p class="rubric">Examples</p>
<p>To enumerate the factorings of a number we can think of the elements of the
partition as being the prime factors and the multiplicities as being their
exponents.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">factoring_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">multiset_partitions_taocp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">factorint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">primes</span><span class="p">,</span> <span class="n">multiplicities</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">factorint</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">primes</span>
<span class="go">(2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multiplicities</span>
<span class="go">(3, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">multiset_partitions_taocp</span><span class="p">(</span><span class="n">multiplicities</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">factoring_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">primes</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[24], [8, 3], [12, 2], [4, 6], [4, 2, 3], [6, 2, 2], [2, 2, 2, 3]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sympy.utilities.enumerative.list_visitor">
<tt class="descclassname">sympy.utilities.enumerative.</tt><tt class="descname">list_visitor</tt><big>(</big><em>state</em>, <em>components</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#list_visitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.list_visitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of lists to represent the partition.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">multiset_partitions_taocp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">multiset_partitions_taocp</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_visitor</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>  <span class="c"># for multiset &#39;a b b c&#39;</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_visitor</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c"># for multiset &#39;1 2 2 3</span>
<span class="go">[[1, 2, 2], [3]]</span>
</pre></div>
</div>
</dd></dl>

<p>The approach of the function <tt class="docutils literal"><span class="pre">multiset_partitions_taocp</span></tt> is extended
and generalized by the class <tt class="docutils literal"><span class="pre">MultisetPartitionTraverser</span></tt>.</p>
<dl class="class">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser">
<em class="property">class </em><tt class="descclassname">sympy.utilities.enumerative.</tt><tt class="descname">MultisetPartitionTraverser</tt><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser" title="Permalink to this definition">¶</a></dt>
<dd><p>Has methods to <tt class="docutils literal"><span class="pre">enumerate</span></tt> and <tt class="docutils literal"><span class="pre">count</span></tt> the partitions of a multiset.</p>
<p>This implements a refactored and extended version of Knuth&#8217;s algorithm
7.1.2.5M <a class="reference internal" href="#aocp" id="id1">[AOCP]</a>.&#8221;</p>
<p>The enumeration methods of this class are generators and return
data structures which can be interpreted by the same visitor
functions used for the output of <tt class="docutils literal"><span class="pre">multiset_partitions_taocp</span></tt>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sympy.utilities.enumerative.multiset_partitions_taocp" title="sympy.utilities.enumerative.multiset_partitions_taocp"><tt class="xref py py-obj docutils literal"><span class="pre">multiset_partitions_taocp</span></tt></a>, <tt class="xref py py-obj docutils literal"><span class="pre">sympy.utilities.iterables.multiset_partititions</span></tt></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="aocp" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[AOCP]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id5">3</a>, <a class="fn-backref" href="#id6">4</a>)</em> Algorithm 7.1.2.5M in Volume 4A, Combinatoral Algorithms,
Part 1, of The Art of Computer Programming, by Donald Knuth.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="factorisatio" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Factorisatio]</a></td><td>On a Problem of Oppenheim concerning
&#8220;Factorisatio Numerorum&#8221; E. R. Canfield, Paul Erdos, Carl
Pomerance, JOURNAL OF NUMBER THEORY, Vol. 17, No. 1. August
1983.  See section 7 for a description of an algorithm
similar to Knuth&#8217;s.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="yorgey" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Yorgey]</a></td><td>Generating Multiset Partitions, Brent Yorgey, The
Monad.Reader, Issue 8, September 2007.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">count_partitions</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">127750</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">count_partitions</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">686</span>
</pre></div>
</div>
<dl class="method">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser.count_partitions">
<tt class="descname">count_partitions</tt><big>(</big><em>multiplicities</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser.count_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.count_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of partitions of a multiset whose components
have the multiplicities given in <tt class="docutils literal"><span class="pre">multiplicities</span></tt>.</p>
<p>For larger counts, this method is much faster than calling one
of the enumerators and counting the result.  Uses dynamic
programming to cut down on the number of nodes actually
explored.  The dictionary used in order to accelerate the
counting process is stored in the <tt class="docutils literal"><span class="pre">MultisetPartitionTraverser</span></tt>
object and persists across calls.  If the the user does not
expect to call <tt class="docutils literal"><span class="pre">count_partitions</span></tt> for any additional
multisets, the object should be cleared to save memory.  On
the other hand, the cache built up from one count run can
significantly speed up subsequent calls to <tt class="docutils literal"><span class="pre">count_partitions</span></tt>,
so it may be advantageous not to clear the object.</p>
<p class="rubric">Notes</p>
<p>If one looks at the workings of Knuth&#8217;s algorithm M <a class="reference internal" href="#aocp" id="id5">[AOCP]</a>, it
can be viewed as a traversal of a binary tree of parts.  A
part has (up to) two children, the left child resulting from
the spread operation, and the right child from the decrement
operation.  The ordinary enumeration of multiset partitions is
an in-order traversal of this tree, and with the partitions
corresponding to paths from the root to the leaves. The
mapping from paths to partitions is a little complicated,
since the partition would contain only those parts which are
leaves or the parents of a spread link, not those which are
parents of a decrement link.</p>
<p>For counting purposes, it is sufficient to count leaves, and
this can be done with a recursive in-order traversal.  The
number of leaves of a subtree rooted at a particular part is a
function only of that part itself, so memoizing has the
potential to speed up the counting dramatically.</p>
<p>This method follows a computational approach which is similar
to the hypothetical memoized recursive function, but with two
differences:</p>
<ol class="arabic simple">
<li>This method is iterative, borrowing its structure from the
other enumerations and maintaining an explicit stack of
parts which are in the process of being counted.  (There
may be multisets which can be counted reasonably quickly by
this implementation, but which would overflow the default
Python recursion limit with a recursive implementation.)</li>
<li>Instead of using the part data structure directly, a more
compact key is constructed.  This saves space, but more
importantly coalesces some parts which would remain
separate with physical keys.</li>
</ol>
<p>Unlike the enumeration functions, there is currently no _range
version of count_partitions.  If someone wants to stretch
their brain, it should be possible to construct one by
memoizing with a histogram of counts rather than a single
count, and combining the histograms.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">count_partitions</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">288716</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">count_partitions</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all">
<tt class="descname">enum_all</tt><big>(</big><em>multiplicities</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser.enum_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate the partitions of a multiset.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#sympy.utilities.enumerative.multiset_partitions_taocp" title="sympy.utilities.enumerative.multiset_partitions_taocp"><tt class="xref py py-obj docutils literal"><span class="pre">multiset_partitions_taocp</span></tt></a></dt>
<dd>which provides the same result as this method, but is about twice as fast.  Hence, enum_all is primarily useful for testing.  Also see the function for a discussion of states and visitors.</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">enum_all</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">list_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[[&#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;, &#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;], [&#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;, &#39;b&#39;], [&#39;a&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;a&#39;], [&#39;b&#39;], [&#39;b&#39;]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_large">
<tt class="descname">enum_large</tt><big>(</big><em>multiplicities</em>, <em>lb</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser.enum_large"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_large" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate the partitions of a multiset with lb &lt; num(parts)</p>
<p>Equivalent to enum_range(multiplicities, lb, sum(multiplicities))</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>multiplicities</strong> :</p>
<blockquote>
<div><p>list of multiplicities of the components of the multiset.</p>
</div></blockquote>
<p><strong>lb</strong> :</p>
<blockquote class="last">
<div><p>Number of parts in the partition must be greater than
this lower bound.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all"><tt class="xref py py-obj docutils literal"><span class="pre">enum_all</span></tt></a>, <a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_small" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_small"><tt class="xref py py-obj docutils literal"><span class="pre">enum_small</span></tt></a>, <a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range"><tt class="xref py py-obj docutils literal"><span class="pre">enum_range</span></tt></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">enum_large</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">list_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[[&#39;a&#39;, &#39;a&#39;], [&#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;], [&#39;a&#39;], [&#39;b&#39;], [&#39;b&#39;]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range">
<tt class="descname">enum_range</tt><big>(</big><em>multiplicities</em>, <em>lb</em>, <em>ub</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser.enum_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate the partitions of a multiset with
<tt class="docutils literal"><span class="pre">lb</span> <span class="pre">&lt;</span> <span class="pre">num(parts)</span> <span class="pre">&lt;=</span> <span class="pre">ub</span></tt>.</p>
<p>In particular, if partitions with exactly <tt class="docutils literal"><span class="pre">k</span></tt> parts are
desired, call with <tt class="docutils literal"><span class="pre">(multiplicities,</span> <span class="pre">k</span> <span class="pre">-</span> <span class="pre">1,</span> <span class="pre">k)</span></tt>.  This
method generalizes enum_all, enum_small, and enum_large.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">enum_range</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">list_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[[&#39;a&#39;, &#39;a&#39;, &#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;, &#39;b&#39;], [&#39;a&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;, &#39;b&#39;]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_small">
<tt class="descname">enum_small</tt><big>(</big><em>multiplicities</em>, <em>ub</em><big>)</big><a class="reference internal" href="../../_modules/sympy/utilities/enumerative.html#MultisetPartitionTraverser.enum_small"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_small" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate multiset partitions with no more than <tt class="docutils literal"><span class="pre">ub</span></tt> parts.</p>
<p>Equivalent to enum_range(multiplicities, 0, ub)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>multiplicities</strong> :</p>
<blockquote>
<div><p>list of multiplicities of the components of the multiset.</p>
</div></blockquote>
<p><strong>ub</strong> :</p>
<blockquote class="last">
<div><p>Maximum number of parts</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_all"><tt class="xref py py-obj docutils literal"><span class="pre">enum_all</span></tt></a>, <a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_large" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_large"><tt class="xref py py-obj docutils literal"><span class="pre">enum_large</span></tt></a>, <a class="reference internal" href="#sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range" title="sympy.utilities.enumerative.MultisetPartitionTraverser.enum_range"><tt class="xref py py-obj docutils literal"><span class="pre">enum_range</span></tt></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">list_visitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.enumerative</span> <span class="kn">import</span> <span class="n">MultisetPartitionTraverser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">MultisetPartitionTraverser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">enum_small</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">list_visitor</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
<span class="go">[[[&#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;, &#39;b&#39;], [&#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;a&#39;], [&#39;b&#39;, &#39;b&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;, &#39;b&#39;], [&#39;a&#39;]],</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;, &#39;b&#39;]]]</span>
</pre></div>
</div>
<p>The implementation is based, in part, on the answer given to
exercise 69, in Knuth <a class="reference internal" href="#aocp" id="id6">[AOCP]</a>.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/sympylogo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="decorator.html"
                        title="previous chapter">Decorator</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="iterables.html"
                        title="next chapter">Iterables</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/modules/utilities/enumerative.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iterables.html" title="Iterables"
             >next</a> |</li>
        <li class="right" >
          <a href="decorator.html" title="Decorator"
             >previous</a> |</li>
        <li><a href="../../index.html">SymPy 0.7.5-git documentation</a> &raquo;</li>
          <li><a href="../index.html" >SymPy Modules Reference</a> &raquo;</li>
          <li><a href="index.html" >Utilities</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014 SymPy Development Team.
      Last updated on Jun 24, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>