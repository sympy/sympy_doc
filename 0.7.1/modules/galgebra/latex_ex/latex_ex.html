

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extended LaTeXModule for Sympy &mdash; SymPy v0.7.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script>
    <link rel="top" title="SymPy v0.7.1 documentation" href="../../../index.html" />
    <link rel="up" title="SymPy Modules Reference" href="../../index.html" />
    <link rel="next" title="Integrals" href="../../integrals.html" />
    <link rel="prev" title="Geometric Algebra Module for Sympy" href="../GA/GAsympy.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../integrals.html" title="Integrals"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../GA/GAsympy.html" title="Geometric Algebra Module for Sympy"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">SymPy v0.7.1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="extended-latexmodule-for-sympy">
<span id="extended-latex"></span><h1>Extended LaTeXModule for Sympy<a class="headerlink" href="#extended-latexmodule-for-sympy" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alan Bromborsky</td>
</tr>
</tbody>
</table>
<div class="math">
\[\newcommand{\W}{\wedge}
\newcommand{\bm}{\boldsymbol}\]</div>
<div class="topic">
<p class="topic-title first">Abstract</p>
<p>This document describes the extension of the latex module for  <tt class="xref py py-mod docutils literal"><span class="pre">sympy</span></tt>. The
python module <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> extends the  capabilities of the current
<tt class="xref py py-mod docutils literal"><span class="pre">latex</span></tt> (while preserving the  current capabilities) to geometric algebra
multivectors, <tt class="xref py py-mod docutils literal"><span class="pre">numpy</span></tt> array&#8217;s, and extends the ascii formatting of greek
symbols, accents, and subscripts and superscripts.   Additionally the module is
configured to use the print command to generate a LaTeX output file and display
it using xdvi in Linux and yap in Windows.  To get LaTeX displayed text latex and
xdvi must be installed on a Linux system and MikTex on a Windows system.</p>
</div>
<div class="section" id="extended-symbol-coding">
<h2>Extended Symbol Coding<a class="headerlink" href="#extended-symbol-coding" title="Permalink to this headline">¶</a></h2>
<p>One of the main extensions in <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> is the ability to encode complex
symbols (multiple greek letters with accents and superscripts and subscripts) is
ascii strings containing only letters, numbers, and underscores.  These
restrictions allow <tt class="xref py py-mod docutils literal"><span class="pre">sympy</span></tt> variable names to represent complex symbols. For
example if we use the  <tt class="xref py py-mod docutils literal"><span class="pre">GA</span></tt> module function <a class="reference internal" href="../GA/GAsympy.html#make_symbols" title="make_symbols"><tt class="xref py py-func docutils literal"><span class="pre">make_symbols()</span></tt></a> as
follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">make_symbols</span><span class="p">(</span><span class="s">&#39;xalpha Gammavec__1_rho delta__j_k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">make_symbols</span></tt> creates the three <tt class="xref py py-mod docutils literal"><span class="pre">sympy</span></tt> symbols <em>xalpha</em>,
<em>Gammavec__1_rho</em>, and <em>delta__j_k</em>.  If these symbols are printed with the
<tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> modules the results are</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><blockquote class="first last">
<div>Ascii String</div></blockquote>
</th>
<th class="head"><blockquote class="first last">
<div>LaTeX Output</div></blockquote>
</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><blockquote class="first last">
<div><tt class="docutils literal"><span class="pre">xalpha</span></tt></div></blockquote>
</td>
<td><blockquote class="first last">
<div><span class="math">\(x\alpha\)</span></div></blockquote>
</td>
</tr>
<tr><td><blockquote class="first last">
<div><tt class="docutils literal"><span class="pre">Gammavec__1_rho</span></tt></div></blockquote>
</td>
<td><blockquote class="first last">
<div><span class="math">\(\vec{\Gamma}^{1}_{\rho}\)</span></div></blockquote>
</td>
</tr>
<tr><td><blockquote class="first last">
<div><tt class="docutils literal"><span class="pre">delta__j_k</span></tt></div></blockquote>
</td>
<td><blockquote class="first last">
<div><span class="math">\(\delta^{j}_{k}\)</span></div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>A single underscore denotes a subscript and a double undscore a superscript.</p>
<p>In addition to all normal LaTeX accents boldmath is supported so that
<tt class="docutils literal"><span class="pre">omegaomegabm</span></tt><span class="math">\(\rightarrow \Omega\bm{\Omega}\)</span> so an accent (or boldmath)
only applies to the character (characters in the case of the string representing
a greek letter) immediately preceeding the accent command.</p>
</div>
<div class="section" id="how-latexprinter-works">
<h2>How LatexPrinter Works<a class="headerlink" href="#how-latexprinter-works" title="Permalink to this headline">¶</a></h2>
<p>The actual <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class is hidden with the helper functions
<a class="reference internal" href="#Format" title="Format"><tt class="xref py py-func docutils literal"><span class="pre">Format()</span></tt></a>,  <a class="reference internal" href="#LaTeX" title="LaTeX"><tt class="xref py py-func docutils literal"><span class="pre">LaTeX()</span></tt></a>, and <a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a>.  <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> is
setup when <a class="reference internal" href="#Format" title="Format"><tt class="xref py py-func docutils literal"><span class="pre">Format()</span></tt></a> is called.  In addition to setting format switches in
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt>, <a class="reference internal" href="#Format" title="Format"><tt class="xref py py-func docutils literal"><span class="pre">Format()</span></tt></a> does two other critical tasks. Firstly,
the <tt class="xref py py-mod docutils literal"><span class="pre">sympy</span></tt> function <tt class="xref py py-func docutils literal"><span class="pre">Basic.__str__()</span></tt> is redirected to the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> helper function <a class="reference internal" href="#LaTeX" title="LaTeX"><tt class="xref py py-func docutils literal"><span class="pre">LaTeX()</span></tt></a>.  If nothing more that this
were done the  python print command would output LaTeX code.  Secondly,
<em>sys.stdout</em> is redirected  to a file until <a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a> is called.  This file
is then compiled with the <strong class="program">latex</strong> program (if present) and the dvi
output file is displayed with the <strong class="program">xdvi</strong> program (if present).  Thus
for <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> to display the output in a window both
<strong class="program">latex</strong> and <strong class="program">xdvi</strong> must be installed on your system and in the
execution path.</p>
<p>One problem for <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> is determining when equation mode should be
use in the output formatting.  To allow for printing output not in equation mode the
program attemps to determine from the output string context when to use equation mode.
The current test is to use equation mode if the string contains an =, _, ^, or \.
This is not a foolproof method.  The safest thing to do if you wish to print an object, <em>X</em>,
in math mode is to use <em>print &#8216;X =&#8217;,X</em> so the = sign triggers math mode.</p>
</div>
<div class="section" id="latexprinter-functions">
<h2>LatexPrinter Functions<a class="headerlink" href="#latexprinter-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="latexprinter-class-functions-for-extending-latexprinter-class">
<h3>LatexPrinter Class Functions for Extending LatexPrinter Class<a class="headerlink" href="#latexprinter-class-functions-for-extending-latexprinter-class" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class functions are not called directly, but rather
are called when <tt class="xref py py-func docutils literal"><span class="pre">print()</span></tt>, <a class="reference internal" href="#LaTeX" title="LaTeX"><tt class="xref py py-func docutils literal"><span class="pre">LaTeX()</span></tt></a>, or <tt class="xref py py-func docutils literal"><span class="pre">str()</span></tt> are called.  The
two new functions for extending the <tt class="xref py py-mod docutils literal"><span class="pre">latex</span></tt> module are
<a class="reference internal" href="#_print_ndarray" title="_print_ndarray"><tt class="xref py py-func docutils literal"><span class="pre">_print_ndarray()</span></tt></a> and <a class="reference internal" href="#_print_MV" title="_print_MV"><tt class="xref py py-func docutils literal"><span class="pre">_print_MV()</span></tt></a>.  Some other functions in
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> have been modified to increase their utility.</p>
<dl class="function">
<dt id="_print_ndarray">
<tt class="descname">_print_ndarray</tt><big>(</big><em>self</em>, <em>expr</em><big>)</big><a class="headerlink" href="#_print_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#_print_ndarray" title="_print_ndarray"><tt class="xref py py-func docutils literal"><span class="pre">_print_ndarray()</span></tt></a> returns a latex formatted string for the <em>expr</em> equal to
a <tt class="xref py py-class docutils literal"><span class="pre">numpy</span></tt> array with elements that can be <tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> expressions.
The <tt class="xref py py-class docutils literal"><span class="pre">numpy</span></tt> array&#8217;s can have up to three dimensions.</p>
</dd></dl>

<dl class="function">
<dt id="_print_MV">
<tt class="descname">_print_MV</tt><big>(</big><em>self</em>, <em>expr</em><big>)</big><a class="headerlink" href="#_print_MV" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#_print_MV" title="_print_MV"><tt class="xref py py-func docutils literal"><span class="pre">_print_MV()</span></tt></a> returns a latex formatted string for the <em>expr</em> equal to a
<tt class="xref py py-class docutils literal"><span class="pre">GA</span></tt> multivector.</p>
</dd></dl>

<dl class="function">
<dt id="str_basic">
<tt class="descname">str_basic</tt><big>(</big><em>in_str</em><big>)</big><a class="headerlink" href="#str_basic" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#str_basic" title="str_basic"><tt class="xref py py-func docutils literal"><span class="pre">str_basic()</span></tt></a> returns a string without the latex formatting provided by
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt>.  This is needed since <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> takes over
the <tt class="xref py py-func docutils literal"><span class="pre">str()</span></tt> fuction and there are instances when the unformatted string is
needed such as during the automatic generation of multivector coefficients and
the reduction of multivector  coefficients for printing.</p>
</dd></dl>

</div>
<div class="section" id="helper-functions-for-extending-latexprinter-class">
<h3>Helper Functions for Extending LatexPrinter Class<a class="headerlink" href="#helper-functions-for-extending-latexprinter-class" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="Format">
<tt class="descname">Format</tt><big>(</big><em>fmt='1 1 1 1'</em><big>)</big><a class="headerlink" href="#Format" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">Format</span></tt> iniailizes <tt class="docutils literal"><span class="pre">LatexPrinter</span></tt> and set the format for <tt class="docutils literal"><span class="pre">sympy</span></tt> symbols,
functions, and  derivatives and for <tt class="docutils literal"><span class="pre">GA</span></tt> multivectors. The switch are encoded
in the text string argument of <tt class="docutils literal"><span class="pre">Format</span></tt> as follows.  It is assumed that the
text string <tt class="docutils literal"><span class="pre">fmt</span></tt> always contains four integers separated by blanks.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="12%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><blockquote class="first last">
<div>Position</div></blockquote>
</th>
<th class="head"><blockquote class="first last">
<div>Switch</div></blockquote>
</th>
<th class="head"><blockquote class="first last">
<div>Values</div></blockquote>
</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><blockquote class="first last">
<div><span class="math">\(1^{st}\)</span></div></blockquote>
</td>
<td><blockquote class="first last">
<div>symbol</div></blockquote>
</td>
<td><blockquote class="first last">
<div>0: Use symbol encoding in <tt class="docutils literal"><span class="pre">latex.py</span></tt></div></blockquote>
</td>
</tr>
<tr><td>&nbsp;</td>
<td>&nbsp;</td>
<td><blockquote class="first last">
<div>1: Use extended symbol encoding in <tt class="docutils literal"><span class="pre">latex_ex.py</span></tt></div></blockquote>
</td>
</tr>
<tr><td><blockquote class="first last">
<div><span class="math">\(2^{nd}\)</span></div></blockquote>
</td>
<td><blockquote class="first last">
<div>function</div></blockquote>
</td>
<td><blockquote class="first last">
<div>0: Use symbol encoding in  <tt class="docutils literal"><span class="pre">latex.py</span></tt>. Print functions args,  use <tt class="docutils literal"><span class="pre">\operator{</span> <span class="pre">}</span></tt> format.</div></blockquote>
</td>
</tr>
<tr><td>&nbsp;</td>
<td>&nbsp;</td>
<td><blockquote class="first last">
<div>1: Do not print function args. Do not use <tt class="docutils literal"><span class="pre">\operator{}</span></tt> format. Suppress printing of function arguments.</div></blockquote>
</td>
</tr>
<tr><td><blockquote class="first last">
<div><span class="math">\(3^{d}\)</span></div></blockquote>
</td>
<td><blockquote class="first last">
<div>partial derivative</div></blockquote>
</td>
<td><blockquote class="first last">
<div>0: Use partial derivative format in <tt class="docutils literal"><span class="pre">latex.py</span></tt>.</div></blockquote>
</td>
</tr>
<tr><td>&nbsp;</td>
<td>&nbsp;</td>
<td><blockquote class="first last">
<div>1: Use format <span class="math">\(\partial_{x}\)</span> instead of <span class="math">\(\partial/\partial x\)</span>.</div></blockquote>
</td>
</tr>
<tr><td><blockquote class="first last">
<div><span class="math">\(4^{th}\)</span></div></blockquote>
</td>
<td><blockquote class="first last">
<div>multivector</div></blockquote>
</td>
<td><blockquote class="first last">
<div>1: Print entire multivector on one line.</div></blockquote>
</td>
</tr>
<tr><td>&nbsp;</td>
<td>&nbsp;</td>
<td><blockquote class="first last">
<div>2: Print each grade of multivector on one line.</div></blockquote>
</td>
</tr>
<tr><td>&nbsp;</td>
<td>&nbsp;</td>
<td><blockquote class="first last">
<div>3: Print each base of multivector on one line.</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="LaTeX">
<tt class="descname">LaTeX</tt><big>(</big><em>expr</em>, <em>inline=True</em><big>)</big><a class="headerlink" href="#LaTeX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#LaTeX" title="LaTeX"><tt class="xref py py-func docutils literal"><span class="pre">LaTeX()</span></tt></a> returns the latex formatted string for the <tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt>,
<tt class="xref py py-class docutils literal"><span class="pre">GA</span></tt>, or <tt class="xref py py-class docutils literal"><span class="pre">numpy</span></tt>  expression <em>expr</em>.  This is needed since
<tt class="xref py py-class docutils literal"><span class="pre">numpy</span></tt> cannot be subclassed and hence cannot be used with the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> modified <tt class="xref py py-func docutils literal"><span class="pre">print()</span></tt> command. Thus is <em>A</em> is a
<tt class="xref py py-class docutils literal"><span class="pre">numpy</span></tt> array containing <tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> expressions one cannot simply
code</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">A</span>
</pre></div>
</div>
<p>but rather must use</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">LaTeX</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="xdvi">
<tt class="descname">xdvi</tt><big>(</big><em>filename='tmplatex.tex'</em>, <em>debug=False</em><big>)</big><a class="headerlink" href="#xdvi" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a> postprocesses the output of the print statements and generates the
latex file with name <em>filename</em>.  If the <strong class="program">latex</strong> and <strong class="program">xdvi</strong>
programs are present on the system they are invoked to display the latex file in
a  window.  If <em>debug=True</em> the associated output of <strong class="program">latex</strong> is sent to
<em>stdout</em>, otherwise it is sent to  <em>/dev/null</em> for linux and <em>NUL</em> for Windows.
If <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> has not been initialized <a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a> does nothing.  After the
.dvi file is generated it is displayed with <strong class="program">xdvi</strong> for linux (if latex and xdvi
are installed ) and <strong class="program">yap</strong> for Windows (if MikTex is installed).</p>
</dd></dl>

<p>The functions <a class="reference internal" href="#sym_format" title="sym_format"><tt class="xref py py-func docutils literal"><span class="pre">sym_format()</span></tt></a>, <a class="reference internal" href="#fct_format" title="fct_format"><tt class="xref py py-func docutils literal"><span class="pre">fct_format()</span></tt></a>, <a class="reference internal" href="#pdiff_format" title="pdiff_format"><tt class="xref py py-func docutils literal"><span class="pre">pdiff_format()</span></tt></a>, and
<a class="reference internal" href="#MV_format" title="MV_format"><tt class="xref py py-func docutils literal"><span class="pre">MV_format()</span></tt></a> allow one to change various formatting aspects of the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt>.  They do not initialize the class and if the are called
with the class not initialized they have no effect.  These functions and the
function <a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a> are designed so that if the <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class is
not initialized the program output is as if the <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class is
not used. Thus all one needs to do to get simple ascii output (possibly for
program debugging) is to comment out the one function call that initializes the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class.  All other <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> function calls can
remain in the program and have no effect on program output.</p>
<dl class="function">
<dt id="sym_format">
<tt class="descname">sym_format</tt><big>(</big><em>sym_fmt</em><big>)</big><a class="headerlink" href="#sym_format" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#sym_format" title="sym_format"><tt class="xref py py-func docutils literal"><span class="pre">sym_format()</span></tt></a> allows one to change the latex format options for
<tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> symbol output independent of other format switches (see
<span class="math">\(1^{st}\)</span> switch in Table I).</p>
</dd></dl>

<dl class="function">
<dt id="fct_format">
<tt class="descname">fct_format</tt><big>(</big><em>fct_fmt</em><big>)</big><a class="headerlink" href="#fct_format" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#fct_format" title="fct_format"><tt class="xref py py-func docutils literal"><span class="pre">fct_format()</span></tt></a> allows one to change the latex format options for
<tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> function output independent of other format switches (see
<span class="math">\(2^{nd}\)</span> switch in Table I).</p>
</dd></dl>

<dl class="function">
<dt id="pdiff_format">
<tt class="descname">pdiff_format</tt><big>(</big><em>pdiff_fmt</em><big>)</big><a class="headerlink" href="#pdiff_format" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#pdiff_format" title="pdiff_format"><tt class="xref py py-func docutils literal"><span class="pre">pdiff_format()</span></tt></a> allows one to change the latex format options for
<tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> partial derivative output independent of other format switches
(see <span class="math">\(3^{d}\)</span> switch in Table I).</p>
</dd></dl>

<dl class="function">
<dt id="MV_format">
<tt class="descname">MV_format</tt><big>(</big><em>mv_fmt</em><big>)</big><a class="headerlink" href="#MV_format" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#MV_format" title="MV_format"><tt class="xref py py-func docutils literal"><span class="pre">MV_format()</span></tt></a> allows one to change the latex format options for
<tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> partial derivative output independent of other format switches
(see <span class="math">\(3^{d}\)</span> switch in Table I).</p>
</dd></dl>

</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="latexdemo-py-a-simple-example">
<h3><strong class="program">latexdemo.py</strong> a simple example<a class="headerlink" href="#latexdemo-py-a-simple-example" title="Permalink to this headline">¶</a></h3>
<p><strong class="program">latexdemo.py</strong> example of using <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> with <tt class="xref py py-mod docutils literal"><span class="pre">sympy</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">sympy.galgebra.GA</span> <span class="kn">as</span> <span class="nn">GA</span>
<span class="kn">import</span> <span class="nn">sympy.galgebra.latex_ex</span> <span class="kn">as</span> <span class="nn">tex</span>

<span class="n">GA</span><span class="o">.</span><span class="n">set_main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">])</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">tex</span><span class="o">.</span><span class="n">Format</span><span class="p">()</span>
    <span class="n">GA</span><span class="o">.</span><span class="n">make_symbols</span><span class="p">(</span><span class="s">&#39;xbm alpha_1 delta__nugamma_r&#39;</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">alpha_1</span><span class="o">*</span><span class="n">xbm</span><span class="o">/</span><span class="n">delta__nugamma_r</span>
    
    <span class="k">print</span> <span class="s">&#39;x =&#39;</span><span class="p">,</span><span class="n">x</span>
    
    <span class="n">tex</span><span class="o">.</span><span class="n">xdvi</span><span class="p">()</span>
</pre></div>
</div>
<p>Start of Program Output</p>
<div class="math">
\[\begin{equation*}
x = \frac{{\alpha}_{1} {}\bm{x}}{{\delta}^{{\nu}{\gamma}}_{r}}
\end{equation*}\]</div><p>End of Program Output</p>
<p>The program <strong class="program">latexdemo.py</strong> demonstrates the extended symbol naming
conventions in <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt>.   the statment <tt class="docutils literal"><span class="pre">Format()</span></tt> starts the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> driver with default formatting. Note that on the right
hand side of the output that <em>xbm</em> gives <span class="math">\(\bm{x}\)</span>, <em>alpha_1</em> gives
<span class="math">\(\alpha_{1}\)</span> and  <em>delta__nugamma_r</em> gives <span class="math">\(\delta^{\nu\gamma}_{r}\)</span>.
Also the fraction is  printed correctly.  The statment <tt class="docutils literal"><span class="pre">print</span> <span class="pre">'x</span> <span class="pre">=',x</span></tt> sends
the string <tt class="docutils literal"><span class="pre">'x</span> <span class="pre">=</span> <span class="pre">'+str(x)</span></tt> to the output processor (<a class="reference internal" href="#xdvi" title="xdvi"><tt class="xref py py-func docutils literal"><span class="pre">xdvi()</span></tt></a>).  Because
the string contains an <span class="math">\(=\)</span> sign the processor treats the string as an
LaTeX equation (unnumbered).  If <tt class="docutils literal"><span class="pre">'x</span> <span class="pre">='</span></tt>  was not in the print statment a
LaTeX error would be generated.  In the case of a <tt class="xref py py-class docutils literal"><span class="pre">GA</span></tt> multivector one
does not need the <tt class="docutils literal"><span class="pre">'x</span> <span class="pre">='</span></tt> if the multivector has been given a name.  In the
example the <tt class="xref py py-class docutils literal"><span class="pre">GA</span></tt> function <a class="reference internal" href="../GA/GAsympy.html#make_symbols" title="make_symbols"><tt class="xref py py-func docutils literal"><span class="pre">make_symbols()</span></tt></a> has been used to create
the <tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> symbols for convenience.  The <tt class="xref py py-class docutils literal"><span class="pre">sympy</span></tt> function
<tt class="xref py py-func docutils literal"><span class="pre">Symbol()</span></tt> could have also been used.</p>
</div>
<div class="section" id="maxwell-py-a-multivector-example">
<h3><strong class="program">Maxwell.py</strong> a multivector example<a class="headerlink" href="#maxwell-py-a-multivector-example" title="Permalink to this headline">¶</a></h3>
<p><strong class="program">Maxwell.py</strong> example of using <tt class="xref py py-mod docutils literal"><span class="pre">latex_ex</span></tt> with <tt class="xref py py-mod docutils literal"><span class="pre">GA</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">sympy.galgebra.GAsympy</span> <span class="kn">as</span> <span class="nn">GA</span>
<span class="kn">import</span> <span class="nn">sympy.galgebra.latex_ex</span> <span class="kn">as</span> <span class="nn">tex</span>

<span class="n">GA</span><span class="o">.</span><span class="n">set_main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">])</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">metric</span> <span class="o">=</span> <span class="s">&#39;1  0  0  0,&#39;</span><span class="o">+</span>\
             <span class="s">&#39;0 -1  0  0,&#39;</span><span class="o">+</span>\
             <span class="s">&#39;0  0 -1  0,&#39;</span><span class="o">+</span>\
             <span class="s">&#39;0  0  0 -1&#39;</span>

    <span class="nb">vars</span> <span class="o">=</span> <span class="n">GA</span><span class="o">.</span><span class="n">make_symbols</span><span class="p">(</span><span class="s">&#39;t x y z&#39;</span><span class="p">)</span>
    <span class="n">GA</span><span class="o">.</span><span class="n">MV</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="s">&#39;gamma_t gamma_x gamma_y gamma_z&#39;</span><span class="p">,</span><span class="n">metric</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="nb">vars</span><span class="p">)</span>
    <span class="n">tex</span><span class="o">.</span><span class="n">Format</span><span class="p">()</span>
    <span class="n">I</span> <span class="o">=</span> <span class="n">GA</span><span class="o">.</span><span class="n">MV</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;pseudo&#39;</span><span class="p">)</span>
    <span class="n">I</span><span class="o">.</span><span class="n">convert_to_blades</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">&#39;$I$ Pseudo-Scalar&#39;</span>
    <span class="k">print</span> <span class="s">&#39;I =&#39;</span><span class="p">,</span><span class="n">I</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">GA</span><span class="o">.</span><span class="n">MV</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span><span class="s">&#39;vector&#39;</span><span class="p">,</span><span class="n">fct</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">E</span> <span class="o">=</span> <span class="n">GA</span><span class="o">.</span><span class="n">MV</span><span class="p">(</span><span class="s">&#39;E&#39;</span><span class="p">,</span><span class="s">&#39;vector&#39;</span><span class="p">,</span><span class="n">fct</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">B</span><span class="o">.</span><span class="n">set_coef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">E</span><span class="o">.</span><span class="n">set_coef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">*=</span> <span class="n">gamma_t</span>
    <span class="n">E</span> <span class="o">*=</span> <span class="n">gamma_t</span>
    <span class="n">B</span><span class="o">.</span><span class="n">convert_to_blades</span><span class="p">()</span>
    <span class="n">E</span><span class="o">.</span><span class="n">convert_to_blades</span><span class="p">()</span>
    <span class="n">J</span> <span class="o">=</span> <span class="n">GA</span><span class="o">.</span><span class="n">MV</span><span class="p">(</span><span class="s">&#39;J&#39;</span><span class="p">,</span><span class="s">&#39;vector&#39;</span><span class="p">,</span><span class="n">fct</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;$B$ Magnetic Field Bi-Vector&#39;</span>
    <span class="k">print</span> <span class="s">&#39;B = Bvec gamma_0 =&#39;</span><span class="p">,</span><span class="n">B</span>
    <span class="k">print</span> <span class="s">&#39;$E$ Electric Field Bi-Vector&#39;</span>
    <span class="k">print</span> <span class="s">&#39;E = Evec gamma_0 =&#39;</span><span class="p">,</span><span class="n">E</span>
    <span class="n">F</span> <span class="o">=</span> <span class="n">E</span><span class="o">+</span><span class="n">I</span><span class="o">*</span><span class="n">B</span>
    <span class="k">print</span> <span class="s">&#39;$E+IB$ Electo-Magnetic Field Bi-Vector&#39;</span>
    <span class="k">print</span> <span class="s">&#39;F = E+IB =&#39;</span><span class="p">,</span><span class="n">F</span>
    <span class="k">print</span> <span class="s">&#39;$J$ Four Current&#39;</span>
    <span class="k">print</span> <span class="s">&#39;J =&#39;</span><span class="p">,</span><span class="n">J</span>
    <span class="n">gradF</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">grad</span><span class="p">()</span>
    <span class="n">gradF</span><span class="o">.</span><span class="n">convert_to_blades</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">&#39;Geometric Derivative of Electo-Magnetic Field Bi-Vector&#39;</span>
    <span class="n">tex</span><span class="o">.</span><span class="n">MV_format</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">nabla F =&#39;</span><span class="p">,</span><span class="n">gradF</span>
    <span class="k">print</span> <span class="s">&#39;All Maxwell Equations are&#39;</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">nabla F = J&#39;</span>
    <span class="k">print</span> <span class="s">&#39;Div $E$ and Curl $H$ Equations&#39;</span>
    <span class="k">print</span> <span class="s">&#39;&lt;</span><span class="se">\\</span><span class="s">nabla F&gt;_1 -J =&#39;</span><span class="p">,</span><span class="n">gradF</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">J</span><span class="p">,</span><span class="s">&#39; = 0&#39;</span>
    <span class="k">print</span> <span class="s">&#39;Curl $E$ and Div $B$ equations&#39;</span>
    <span class="k">print</span> <span class="s">&#39;&lt;</span><span class="se">\\</span><span class="s">nabla F&gt;_3 =&#39;</span><span class="p">,</span><span class="n">gradF</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="s">&#39; = 0&#39;</span>
    <span class="n">tex</span><span class="o">.</span><span class="n">xdvi</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;Maxwell.tex&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Start of Program Output</p>
<p><span class="math">\(I\)</span> Pseudo-Scalar</p>
<div class="math">
\[\begin{equation*}
I = {\gamma}_{t}{\gamma}_{x}{\gamma}_{y}{\gamma}_{z}
\end{equation*}\]</div><p><span class="math">\(B\)</span> Magnetic Field Bi-Vector</p>
<div class="math">
\[\begin{equation*}
B = - {B^{x}}{\gamma}_{t}{\gamma}_{x}- {B^{y}}{\gamma}_{t}{\gamma}_{y}- {B^{z}}{\gamma}_{t}{\gamma}_{z}
\end{equation*}\]</div><p><span class="math">\(F\)</span> Electric Field Bi-Vector</p>
<div class="math">
\[\begin{equation*}
E = - {E^{x}}{\gamma}_{t}{\gamma}_{x}- {E^{y}}{\gamma}_{t}{\gamma}_{y}- {E^{z}}{\gamma}_{t}{\gamma}_{z}
\end{equation*}\]</div><p><span class="math">\(E+IB\)</span> Electo-Magnetic Field Bi-Vector</p>
<div class="math">
\[\begin{equation*}
F = - {E^{x}}{\gamma}_{t}{\gamma}_{x}- {E^{y}}{\gamma}_{t}{\gamma}_{y}- {B^{z}}{\gamma}_{x}{\gamma}_{y}- {E^{z}}{\gamma}_{t}{\gamma}_{z}+ {B^{y}}{\gamma}_{x}{\gamma}_{z}- {B^{x}}{\gamma}_{y}{\gamma}_{z}
\end{equation*}\]</div><p><span class="math">\(J\)</span> Four Current</p>
<div class="math">
\[\begin{equation*}
J =  {J^{t}}{\gamma}_{t}+ {J^{x}}{\gamma}_{x}+ {J^{y}}{\gamma}_{y}+ {J^{z}}{\gamma}_{z}
\end{equation*}\]</div><p>Geometric Derivative of Electo-Magnetic Field Bi-Vector</p>
<div class="math">
\[\begin{align*}
\nabla F & =   \left(\partial_{z} {E^{z}} + \partial_{y} {E^{y}} + \partial_{x} {E^{x}}\right){\gamma}_{t} \\ & + \left(-\partial_{t} {E^{x}} + \partial_{y} {B^{z}} -\partial_{z} {B^{y}}\right){\gamma}_{x} \\ & + \left(\partial_{z} {B^{x}} -\partial_{t} {E^{y}} -\partial_{x} {B^{z}}\right){\gamma}_{y} \\ & + \left(-\partial_{y} {B^{x}} -\partial_{t} {E^{z}} + \partial_{x} {B^{y}}\right){\gamma}_{z} \\ & + \left(-\partial_{x} {E^{y}} -\partial_{t} {B^{z}} + \partial_{y} {E^{x}}\right){\gamma}_{t}{\gamma}_{x}{\gamma}_{y} \\ & + \left(-\partial_{x} {E^{z}} + \partial_{t} {B^{y}} + \partial_{z} {E^{x}}\right){\gamma}_{t}{\gamma}_{x}{\gamma}_{z} \\ & + \left(-\partial_{t} {B^{x}} -\partial_{y} {E^{z}} + \partial_{z} {E^{y}}\right){\gamma}_{t}{\gamma}_{y}{\gamma}_{z} \\ & + \left(\partial_{y} {B^{y}} + \partial_{z} {B^{z}} + \partial_{x} {B^{x}}\right){\gamma}_{x}{\gamma}_{y}{\gamma}_{z}\end{align*}\]</div><p>All Maxwell Equations are</p>
<div class="math">
\[\begin{equation*}
\nabla F = J
\end{equation*}\]</div><p>Div <span class="math">\(E\)</span> and Curl <span class="math">\(H\)</span> Equations</p>
<div class="math">
\[\begin{align*}
<\nabla F>_1 -J & =   \left(-{J^{t}} + \partial_{z} {E^{z}} + \partial_{y} {E^{y}} + \partial_{x} {E^{x}}\right){\gamma}_{t} \\ & + \left(-{J^{x}} -\partial_{t} {E^{x}} + \partial_{y} {B^{z}} -\partial_{z} {B^{y}}\right){\gamma}_{x} \\ & + \left(\partial_{z} {B^{x}} -\partial_{t} {E^{y}} -{J^{y}} -\partial_{x} {B^{z}}\right){\gamma}_{y} \\ & + \left(-\partial_{y} {B^{x}} -\partial_{t} {E^{z}} -{J^{z}} + \partial_{x} {B^{y}}\right){\gamma}_{z}\end{align*}\]</div><div class="math">
\[\begin{equation*}
  = 0
\end{equation*}\]</div><p>Curl <span class="math">\(E\)</span> and Div <span class="math">\(B\)</span> equations</p>
<div class="math">
\[\begin{align*}
<\nabla F>_3 & =   \left( -\partial_{x} {E^{y}} -\partial_{t} {B^{z}} + \partial_{y} {E^{x}}\right){\gamma}_{t}\W {\gamma}_{x}\W {\gamma}_{y} \\ & + \left( -\partial_{x} {E^{z}} + \partial_{t} {B^{y}} + \partial_{z} {E^{x}}\right){\gamma}_{t}\W {\gamma}_{x}\W {\gamma}_{z} \\ & + \left( -\partial_{t} {B^{x}} -\partial_{y} {E^{z}} + \partial_{z} {E^{y}}\right){\gamma}_{t}\W {\gamma}_{y}\W {\gamma}_{z} \\ & + \left( \partial_{y} {B^{y}} + \partial_{z} {B^{z}} + \partial_{x} {B^{x}}\right){\gamma}_{x}\W {\gamma}_{y}\W {\gamma}_{z}\end{align*}\]</div><div class="math">
\[\begin{equation*}
  = 0
\end{equation*}\]</div><p>End of Program Output</p>
<p>The program <strong class="program">Maxwell.py</strong> demonstrates the use of the
<tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt> class with the <tt class="xref py py-mod docutils literal"><span class="pre">GA</span></tt> module multivector class,
<a class="reference internal" href="../GA/GAsympy.html#MV" title="MV"><tt class="xref py py-class docutils literal"><span class="pre">MV</span></tt></a>.  The <a class="reference internal" href="#Format" title="Format"><tt class="xref py py-func docutils literal"><span class="pre">Format()</span></tt></a> call initializes <tt class="xref py py-class docutils literal"><span class="pre">LatexPrinter</span></tt>.  The
only other explicit <tt class="xref py py-mod docutils literal"><span class="pre">latex_x</span></tt>  module formatting statement used is
<tt class="docutils literal"><span class="pre">MV_format(3)</span></tt>.  This statment changes the multivector latex format so that
instead of printing the entire multivector on one line, which would run off the
page, each multivector base and its coefficient are printed on individual lines
using the latex align environment.  Another option used is that the printing of
function arguments is suppressed since <span class="math">\(E\)</span>, <span class="math">\(B\)</span>, <span class="math">\(J\)</span>, and
<span class="math">\(F\)</span> are multivector fields and printing out the argument,
<span class="math">\((t,x,y,z)\)</span>, for every field component would greatly lengthen the output
and make it more difficult to format in a pleasing way.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/sympylogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Extended LaTeXModule for Sympy</a><ul>
<li><a class="reference internal" href="#extended-symbol-coding">Extended Symbol Coding</a></li>
<li><a class="reference internal" href="#how-latexprinter-works">How LatexPrinter Works</a></li>
<li><a class="reference internal" href="#latexprinter-functions">LatexPrinter Functions</a><ul>
<li><a class="reference internal" href="#latexprinter-class-functions-for-extending-latexprinter-class">LatexPrinter Class Functions for Extending LatexPrinter Class</a></li>
<li><a class="reference internal" href="#helper-functions-for-extending-latexprinter-class">Helper Functions for Extending LatexPrinter Class</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#latexdemo-py-a-simple-example"><strong class="program">latexdemo.py</strong> a simple example</a></li>
<li><a class="reference internal" href="#maxwell-py-a-multivector-example"><strong class="program">Maxwell.py</strong> a multivector example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../GA/GAsympy.html"
                        title="previous chapter">Geometric Algebra Module for Sympy</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../integrals.html"
                        title="next chapter">Integrals</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/modules/galgebra/latex_ex/latex_ex.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../integrals.html" title="Integrals"
             >next</a> |</li>
        <li class="right" >
          <a href="../GA/GAsympy.html" title="Geometric Algebra Module for Sympy"
             >previous</a> |</li>
        <li><a href="../../../index.html">SymPy v0.7.1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, 2009, 2010, 2011 SymPy Development Team.
      Last updated on Jul 29, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>