

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sympy.geometry.polygon &mdash; SymPy 0.7.3 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-core.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-autocomplete.css" type="text/css" />
    <link rel="stylesheet" href="http://live.sympy.org/static/live-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.7.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/utilities.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/external/classy.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-core.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-autocomplete.js"></script>
    <script type="text/javascript" src="http://live.sympy.org/static/live-sphinx.js"></script>
    <script type="text/javascript" src="../../../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../../../_static/SymPy-Favicon.ico"/>
    <link rel="top" title="SymPy 0.7.3 documentation" href="../../../index.html" />
    <link rel="up" title="sympy" href="../../sympy.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">SymPy 0.7.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../sympy.html" accesskey="U">sympy</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for sympy.geometry.polygon</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">division</span>

<span class="kn">from</span> <span class="nn">sympy.core</span> <span class="kn">import</span> <span class="n">Expr</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">sympify</span><span class="p">,</span> <span class="n">oo</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">Symbol</span><span class="p">,</span> <span class="n">zoo</span>
<span class="kn">from</span> <span class="nn">sympy.core.compatibility</span> <span class="kn">import</span> <span class="n">as_int</span><span class="p">,</span> <span class="nb">xrange</span>
<span class="kn">from</span> <span class="nn">sympy.functions.elementary.piecewise</span> <span class="kn">import</span> <span class="n">Piecewise</span>
<span class="kn">from</span> <span class="nn">sympy.functions.elementary.complexes</span> <span class="kn">import</span> <span class="n">sign</span>
<span class="kn">from</span> <span class="nn">sympy.functions.elementary.trigonometric</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">atan</span>
<span class="kn">from</span> <span class="nn">sympy.simplify</span> <span class="kn">import</span> <span class="n">simplify</span>
<span class="kn">from</span> <span class="nn">sympy.geometry.exceptions</span> <span class="kn">import</span> <span class="n">GeometryError</span>
<span class="kn">from</span> <span class="nn">sympy.matrices</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="kn">from</span> <span class="nn">sympy.solvers</span> <span class="kn">import</span> <span class="n">solve</span>
<span class="kn">from</span> <span class="nn">sympy.utilities.iterables</span> <span class="kn">import</span> <span class="n">has_variety</span><span class="p">,</span> <span class="n">has_dups</span>

<span class="kn">from</span> <span class="nn">.entity</span> <span class="kn">import</span> <span class="n">GeometryEntity</span>
<span class="kn">from</span> <span class="nn">.point</span> <span class="kn">import</span> <span class="n">Point</span>
<span class="kn">from</span> <span class="nn">.ellipse</span> <span class="kn">import</span> <span class="n">Circle</span>
<span class="kn">from</span> <span class="nn">.line</span> <span class="kn">import</span> <span class="n">Line</span><span class="p">,</span> <span class="n">Segment</span>
<span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">_symbol</span>

<span class="kn">import</span> <span class="nn">warnings</span>


<div class="viewcode-block" id="Polygon"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon">[docs]</a><span class="k">class</span> <span class="nc">Polygon</span><span class="p">(</span><span class="n">GeometryEntity</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A two-dimensional polygon.</span>

<span class="sd">    A simple polygon in space. Can be constructed from a sequence of points</span>
<span class="sd">    or from a center, radius, number of sides and rotation angle.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ==========</span>

<span class="sd">    vertices : sequence of Points</span>

<span class="sd">    Attributes</span>
<span class="sd">    ==========</span>

<span class="sd">    area</span>
<span class="sd">    angles</span>
<span class="sd">    perimeter</span>
<span class="sd">    vertices</span>
<span class="sd">    centroid</span>
<span class="sd">    sides</span>

<span class="sd">    Raises</span>
<span class="sd">    ======</span>

<span class="sd">    GeometryError</span>
<span class="sd">        If all parameters are not Points.</span>

<span class="sd">        If the Polygon has intersecting sides.</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    sympy.geometry.point.Point, sympy.geometry.line.Segment, Triangle</span>

<span class="sd">    Notes</span>
<span class="sd">    =====</span>

<span class="sd">    Polygons are treated as closed paths rather than 2D areas so</span>
<span class="sd">    some calculations can be be negative or positive (e.g., area)</span>
<span class="sd">    based on the orientation of the points.</span>

<span class="sd">    Any consecutive identical points are reduced to a single point</span>
<span class="sd">    and any points collinear and between two points will be removed</span>
<span class="sd">    unless they are needed to define an explicit intersection (see examples).</span>

<span class="sd">    A Triangle, Segment or Point will be returned when there are 3 or</span>
<span class="sd">    fewer points provided.</span>

<span class="sd">    Examples</span>
<span class="sd">    ========</span>

<span class="sd">    &gt;&gt;&gt; from sympy import Point, Polygon, pi</span>
<span class="sd">    &gt;&gt;&gt; p1, p2, p3, p4, p5 = [(0, 0), (1, 0), (5, 1), (0, 1), (3, 0)]</span>
<span class="sd">    &gt;&gt;&gt; Polygon(p1, p2, p3, p4)</span>
<span class="sd">    Polygon(Point(0, 0), Point(1, 0), Point(5, 1), Point(0, 1))</span>
<span class="sd">    &gt;&gt;&gt; Polygon(p1, p2)</span>
<span class="sd">    Segment(Point(0, 0), Point(1, 0))</span>
<span class="sd">    &gt;&gt;&gt; Polygon(p1, p2, p5)</span>
<span class="sd">    Segment(Point(0, 0), Point(3, 0))</span>

<span class="sd">    While the sides of a polygon are not allowed to cross implicitly, they</span>
<span class="sd">    can do so explicitly. For example, a polygon shaped like a Z with the top</span>
<span class="sd">    left connecting to the bottom right of the Z must have the point in the</span>
<span class="sd">    middle of the Z explicitly given:</span>

<span class="sd">    &gt;&gt;&gt; mid = Point(1, 1)</span>
<span class="sd">    &gt;&gt;&gt; Polygon((0, 2), (2, 2), mid, (0, 0), (2, 0), mid).area</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; Polygon((0, 2), (2, 2), mid, (2, 0), (0, 0), mid).area</span>
<span class="sd">    -2</span>

<span class="sd">    When the the keyword `n` is used to define the number of sides of the</span>
<span class="sd">    Polygon then a RegularPolygon is created and the other arguments are</span>
<span class="sd">    interpreted as center, radius and rotation. The unrotated RegularPolygon</span>
<span class="sd">    will always have a vertex at Point(r, 0) where `r` is the radius of the</span>
<span class="sd">    circle that circumscribes the RegularPolygon. Its method `spin` can be</span>
<span class="sd">    used to increment that angle.</span>

<span class="sd">    &gt;&gt;&gt; p = Polygon((0,0), 1, n=3)</span>
<span class="sd">    &gt;&gt;&gt; p</span>
<span class="sd">    RegularPolygon(Point(0, 0), 1, 3, 0)</span>
<span class="sd">    &gt;&gt;&gt; p.vertices[0]</span>
<span class="sd">    Point(1, 0)</span>
<span class="sd">    &gt;&gt;&gt; p.args[0]</span>
<span class="sd">    Point(0, 0)</span>
<span class="sd">    &gt;&gt;&gt; p.spin(pi/2)</span>
<span class="sd">    &gt;&gt;&gt; p.vertices[0]</span>
<span class="sd">    Point(0, 1)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;n&#39;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="c"># return a virtual polygon with n sides</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c"># center, radius</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c"># center, radius, rotation</span>
                <span class="n">args</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RegularPolygon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>

        <span class="c"># remove consecutive duplicates</span>
        <span class="n">nodup</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">vertices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nodup</span> <span class="ow">and</span> <span class="n">p</span> <span class="o">==</span> <span class="n">nodup</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="n">nodup</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">nodup</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">nodup</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">nodup</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c"># last point was same as first</span>

        <span class="c"># remove collinear points unless they are shared points</span>
        <span class="n">got</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">shared</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">nodup</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">got</span><span class="p">:</span>
                <span class="n">shared</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">got</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">nodup</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]])</span>
            <span class="k">if</span> <span class="n">b</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">shared</span> <span class="ow">and</span> <span class="n">Point</span><span class="o">.</span><span class="n">is_collinear</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
                <span class="n">nodup</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
                <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="n">nodup</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> <span class="n">nodup</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="n">GeometryEntity</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Triangle</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Segment</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c"># reject polygons that have intersecting sides unless the</span>
        <span class="c"># intersection is a shared point or a generalized intersection.</span>
        <span class="c"># A self-intersecting polygon is easier to detect than a</span>
        <span class="c"># random set of segments since only those sides that are not</span>
        <span class="c"># part of the convex hull can possibly intersect with other</span>
        <span class="c"># sides of the polygon...but for now we use the n**2 algorithm</span>
        <span class="c"># and check if any side intersects with any preceding side</span>
        <span class="n">hit</span> <span class="o">=</span> <span class="n">_symbol</span><span class="p">(</span><span class="s">&#39;hit&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rv</span><span class="o">.</span><span class="n">is_convex</span><span class="p">:</span>
            <span class="n">sides</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">sides</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">si</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sides</span><span class="p">):</span>
                <span class="n">pts</span> <span class="o">=</span> <span class="n">si</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">si</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">ai</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">arbitrary_point</span><span class="p">(</span><span class="n">hit</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                    <span class="n">sj</span> <span class="o">=</span> <span class="n">sides</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">sj</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pts</span> <span class="ow">and</span> <span class="n">sj</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pts</span><span class="p">:</span>
                        <span class="n">aj</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">arbitrary_point</span><span class="p">(</span><span class="n">hit</span><span class="p">)</span>
                        <span class="n">tx</span> <span class="o">=</span> <span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="n">ai</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">aj</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="p">[</span><span class="n">S</span><span class="o">.</span><span class="n">Zero</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">tx</span><span class="o">.</span><span class="n">is_number</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">tx</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">ty</span> <span class="o">=</span> <span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="n">ai</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">aj</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="p">[</span><span class="n">S</span><span class="o">.</span><span class="n">Zero</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">tx</span> <span class="ow">or</span> <span class="n">ty</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ty</span><span class="o">.</span><span class="n">is_number</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">ty</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="n">GeometryError</span><span class="p">(</span>
                                    <span class="s">&quot;Polygon has intersecting sides.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">rv</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.area"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.area">[docs]</a>    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The area of the polygon.</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">        The area calculation can be positive or negative based on the</span>
<span class="sd">        orientation of the points.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.ellipse.Ellipse.area</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.area</span>
<span class="sd">        3</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
            <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
            <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
            <span class="n">area</span> <span class="o">+=</span> <span class="n">x1</span><span class="o">*</span><span class="n">y2</span> <span class="o">-</span> <span class="n">x2</span><span class="o">*</span><span class="n">y1</span>
        <span class="k">return</span> <span class="n">simplify</span><span class="p">(</span><span class="n">area</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.angles"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.angles">[docs]</a>    <span class="k">def</span> <span class="nf">angles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The internal angle at each vertex.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        angles : dict</span>
<span class="sd">            A dictionary where each key is a vertex and each value is the</span>
<span class="sd">            internal angle at that vertex. The vertices are represented as</span>
<span class="sd">            Points.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.line.LinearEntity.angle_between</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.angles[p1]</span>
<span class="sd">        pi/2</span>
<span class="sd">        &gt;&gt;&gt; poly.angles[p2]</span>
<span class="sd">        acos(-4*sqrt(17)/17)</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_isright</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
            <span class="n">ba</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
            <span class="n">ca</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="n">a</span>
            <span class="n">t_area</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="n">ca</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">ca</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="n">ba</span><span class="o">.</span><span class="n">y</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">t_area</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># Determine orientation of points</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="n">cw</span> <span class="o">=</span> <span class="n">_isright</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">ang</span> <span class="o">=</span> <span class="n">Line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">cw</span> <span class="o">^</span> <span class="n">_isright</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
                <span class="n">ret</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">Pi</span> <span class="o">-</span> <span class="n">ang</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ret</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">ang</span>
        <span class="k">return</span> <span class="n">ret</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.perimeter"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.perimeter">[docs]</a>    <span class="k">def</span> <span class="nf">perimeter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The perimeter of the polygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        perimeter : number or Basic instance</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.Segment.length</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.perimeter</span>
<span class="sd">        sqrt(17) + 7</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
            <span class="n">p</span> <span class="o">+=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">simplify</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.vertices"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.vertices">[docs]</a>    <span class="k">def</span> <span class="nf">vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The vertices of the polygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        vertices : tuple of Points</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">        When iterating over the vertices, it is more efficient to index self</span>
<span class="sd">        rather than to request the vertices and index them. Only use the</span>
<span class="sd">        vertices when you want to process all of them at once. This is even</span>
<span class="sd">        more important with RegularPolygons that calculate each vertex.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.vertices</span>
<span class="sd">        (Point(0, 0), Point(1, 0), Point(5, 1), Point(0, 1))</span>
<span class="sd">        &gt;&gt;&gt; poly.args[0]</span>
<span class="sd">        Point(0, 0)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.centroid"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.centroid">[docs]</a>    <span class="k">def</span> <span class="nf">centroid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The centroid of the polygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        centroid : Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.util.centroid</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.centroid</span>
<span class="sd">        Point(31/18, 11/18)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">A</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">6</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">area</span><span class="p">)</span>
        <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
            <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
            <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">x1</span><span class="o">*</span><span class="n">y2</span> <span class="o">-</span> <span class="n">x2</span><span class="o">*</span><span class="n">y1</span>
            <span class="n">cx</span> <span class="o">+=</span> <span class="n">v</span><span class="o">*</span><span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">x2</span><span class="p">)</span>
            <span class="n">cy</span> <span class="o">+=</span> <span class="n">v</span><span class="o">*</span><span class="p">(</span><span class="n">y1</span> <span class="o">+</span> <span class="n">y2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="n">simplify</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">cx</span><span class="p">),</span> <span class="n">simplify</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">cy</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Polygon.sides"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.sides">[docs]</a>    <span class="k">def</span> <span class="nf">sides</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The line segments that form the sides of the polygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        sides : list of sides</span>
<span class="sd">            Each side is a Segment.</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">        The Segments that represent the sides are an undirected</span>
<span class="sd">        line segment so cannot be used to tell the orientation of</span>
<span class="sd">        the polygon.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.line.Segment</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.sides</span>
<span class="sd">        [Segment(Point(0, 0), Point(1, 0)),</span>
<span class="sd">        Segment(Point(1, 0), Point(5, 1)),</span>
<span class="sd">        Segment(Point(0, 1), Point(5, 1)), Segment(Point(0, 0), Point(0, 1))]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Segment</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">res</span>
</div>
<div class="viewcode-block" id="Polygon.is_convex"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.is_convex">[docs]</a>    <span class="k">def</span> <span class="nf">is_convex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Is the polygon convex?</span>

<span class="sd">        A polygon is convex if all its interior angles are less than 180</span>
<span class="sd">        degrees.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_convex : boolean</span>
<span class="sd">            True if this polygon is convex, False otherwise.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.util.convex_hull</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; poly.is_convex()</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_isright</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
            <span class="n">ba</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
            <span class="n">ca</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="n">a</span>
            <span class="n">t_area</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">ba</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="n">ca</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">ca</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="n">ba</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">t_area</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># Determine orientation of points</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="n">cw</span> <span class="o">=</span> <span class="n">_isright</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">cw</span> <span class="o">^</span> <span class="n">_isright</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
                <span class="k">return</span> <span class="bp">False</span>

        <span class="k">return</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="Polygon.encloses_point"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.encloses_point">[docs]</a>    <span class="k">def</span> <span class="nf">encloses_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return True if p is enclosed by (is inside of) self.</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">        Being on the border of self is considered False.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        p : Point</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        encloses_point : True, False or None</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.ellipse.Ellipse.encloses_point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Polygon, Point</span>
<span class="sd">        &gt;&gt;&gt; from sympy.abc import t</span>
<span class="sd">        &gt;&gt;&gt; p = Polygon((0, 0), (4, 0), (4, 4))</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(2, 1))</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(2, 2))</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(5, 5))</span>
<span class="sd">        False</span>

<span class="sd">        References</span>
<span class="sd">        ==========</span>

<span class="sd">        [1] http://www.ariel.com.au/a/python-point-int-poly.html</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">p</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="c"># move to p, checking that the result is numeric</span>
        <span class="n">lit</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="n">lit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span>  <span class="c"># the difference is simplified</span>
            <span class="k">if</span> <span class="n">lit</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">free_symbols</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">None</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="o">*</span><span class="n">lit</span><span class="p">)</span>

        <span class="c"># polygon closure is assumed in the following test but Polygon removes duplicate pts so</span>
        <span class="c"># the last point has to be added so all sides are computed. Using Polygon.sides is</span>
        <span class="c"># not good since Segments are unordered.</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_convex</span><span class="p">():</span>
            <span class="n">orientation</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
                <span class="n">a</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">test</span> <span class="o">=</span> <span class="p">((</span><span class="o">-</span><span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">is_negative</span>
                <span class="k">if</span> <span class="n">orientation</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">orientation</span> <span class="o">=</span> <span class="n">test</span>
                <span class="k">elif</span> <span class="n">test</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">orientation</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">hit_odd</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">p1x</span><span class="p">,</span> <span class="n">p1y</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">p2x</span><span class="p">,</span> <span class="n">p2y</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">args</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">p1y</span><span class="p">,</span> <span class="n">p2y</span><span class="p">):</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1y</span><span class="p">,</span> <span class="n">p2y</span><span class="p">):</span>
                    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1x</span><span class="p">,</span> <span class="n">p2x</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">p1y</span> <span class="o">!=</span> <span class="n">p2y</span><span class="p">:</span>
                            <span class="n">xinters</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">p1y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p2x</span> <span class="o">-</span> <span class="n">p1x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">p2y</span> <span class="o">-</span> <span class="n">p1y</span><span class="p">)</span> <span class="o">+</span> <span class="n">p1x</span>
                        <span class="k">if</span> <span class="n">p1x</span> <span class="o">==</span> <span class="n">p2x</span> <span class="ow">or</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">xinters</span><span class="p">:</span>
                            <span class="n">hit_odd</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">hit_odd</span>
            <span class="n">p1x</span><span class="p">,</span> <span class="n">p1y</span> <span class="o">=</span> <span class="n">p2x</span><span class="p">,</span> <span class="n">p2y</span>
        <span class="k">return</span> <span class="n">hit_odd</span>
</div>
<div class="viewcode-block" id="Polygon.arbitrary_point"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.arbitrary_point">[docs]</a>    <span class="k">def</span> <span class="nf">arbitrary_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s">&#39;t&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A parameterized point on the polygon.</span>

<span class="sd">        The parameter, varying from 0 to 1, assigns points to the position on</span>
<span class="sd">        the perimeter that is that fraction of the total perimeter. So the</span>
<span class="sd">        point evaluated at t=1/2 would return the point from the first vertex</span>
<span class="sd">        that is 1/2 way around the polygon.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        parameter : str, optional</span>
<span class="sd">            Default value is &#39;t&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        arbitrary_point : Point</span>

<span class="sd">        Raises</span>
<span class="sd">        ======</span>

<span class="sd">        ValueError</span>
<span class="sd">            When `parameter` already appears in the Polygon&#39;s definition.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Polygon, S, Symbol</span>
<span class="sd">        &gt;&gt;&gt; t = Symbol(&#39;t&#39;, real=True)</span>
<span class="sd">        &gt;&gt;&gt; tri = Polygon((0, 0), (1, 0), (1, 1))</span>
<span class="sd">        &gt;&gt;&gt; p = tri.arbitrary_point(&#39;t&#39;)</span>
<span class="sd">        &gt;&gt;&gt; perimeter = tri.perimeter</span>
<span class="sd">        &gt;&gt;&gt; s1, s2 = [s.length for s in tri.sides[:2]]</span>
<span class="sd">        &gt;&gt;&gt; p.subs(t, (s1 + s2/2)/perimeter)</span>
<span class="sd">        Point(1, 1/2)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">_symbol</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">free_symbols</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Symbol </span><span class="si">%s</span><span class="s"> already appears in object and cannot be used as a parameter.&#39;</span> <span class="o">%</span> <span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">sides</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">perimeter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perimeter</span>
        <span class="n">perim_fraction_start</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
            <span class="n">side_perim_fraction</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="o">/</span><span class="n">perimeter</span>
            <span class="n">perim_fraction_end</span> <span class="o">=</span> <span class="n">perim_fraction_start</span> <span class="o">+</span> <span class="n">side_perim_fraction</span>
            <span class="n">pt</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">arbitrary_point</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span>
                <span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span> <span class="o">-</span> <span class="n">perim_fraction_start</span><span class="p">)</span><span class="o">/</span><span class="n">side_perim_fraction</span><span class="p">)</span>
            <span class="n">sides</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span><span class="n">pt</span><span class="p">,</span> <span class="p">(</span><span class="n">perim_fraction_start</span> <span class="o">&lt;=</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">perim_fraction_end</span><span class="p">)))</span>
            <span class="n">perim_fraction_start</span> <span class="o">=</span> <span class="n">perim_fraction_end</span>
        <span class="k">return</span> <span class="n">Piecewise</span><span class="p">(</span><span class="o">*</span><span class="n">sides</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Polygon.plot_interval"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.plot_interval">[docs]</a>    <span class="k">def</span> <span class="nf">plot_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s">&#39;t&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The plot interval for the default geometric plot of the polygon.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        parameter : str, optional</span>
<span class="sd">            Default value is &#39;t&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        plot_interval : list (plot interval)</span>
<span class="sd">            [parameter, lower_bound, upper_bound]</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Polygon</span>
<span class="sd">        &gt;&gt;&gt; p = Polygon((0, 0), (1, 0), (1, 1))</span>
<span class="sd">        &gt;&gt;&gt; p.plot_interval()</span>
<span class="sd">        [t, 0, 1]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="n">parameter</span><span class="p">,</span> <span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="Polygon.intersection"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.intersection">[docs]</a>    <span class="k">def</span> <span class="nf">intersection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The intersection of two polygons.</span>

<span class="sd">        The intersection may be empty and can contain individual Points and</span>
<span class="sd">        complete Line Segments.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        other: Polygon</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        intersection : list</span>
<span class="sd">            The list of Segments and Points</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.line.Segment</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3, p4 = map(Point, [(0, 0), (1, 0), (5, 1), (0, 1)])</span>
<span class="sd">        &gt;&gt;&gt; poly1 = Polygon(p1, p2, p3, p4)</span>
<span class="sd">        &gt;&gt;&gt; p5, p6, p7 = map(Point, [(3, 2), (1, -1), (0, 2)])</span>
<span class="sd">        &gt;&gt;&gt; poly2 = Polygon(p5, p6, p7)</span>
<span class="sd">        &gt;&gt;&gt; poly1.intersection(poly2)</span>
<span class="sd">        [Point(2/3, 0), Point(9/5, 1/5), Point(7/3, 1), Point(1/3, 1)]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
            <span class="n">inter</span> <span class="o">=</span> <span class="n">side</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">inter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">inter</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
</div>
<div class="viewcode-block" id="Polygon.distance"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Polygon.distance">[docs]</a>    <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the shortest distance between self and o.</span>

<span class="sd">        If o is a point, then self does not need to be convex.</span>
<span class="sd">        If o is another polygon self and o must be complex.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, Polygon, RegularPolygon</span>
<span class="sd">        &gt;&gt;&gt; p1, p2 = map(Point, [(0, 0), (7, 5)])</span>
<span class="sd">        &gt;&gt;&gt; poly = Polygon(*RegularPolygon(p1, 1, 3).vertices)</span>
<span class="sd">        &gt;&gt;&gt; poly.distance(p2)</span>
<span class="sd">        sqrt(61)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Point</span><span class="p">):</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">oo</span>
            <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">side</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">current</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">S</span><span class="o">.</span><span class="n">Zero</span>
                <span class="k">elif</span> <span class="n">current</span> <span class="o">&lt;</span> <span class="n">dist</span><span class="p">:</span>
                    <span class="n">dist</span> <span class="o">=</span> <span class="n">current</span>
            <span class="k">return</span> <span class="n">dist</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_convex</span><span class="p">()</span> <span class="ow">and</span> <span class="n">o</span><span class="o">.</span><span class="n">is_convex</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_poly_distance</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</div>
    <span class="k">def</span> <span class="nf">_do_poly_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the least distance between the exteriors of two</span>
<span class="sd">        convex polygons e1 and e2. Does not check for the convexity</span>
<span class="sd">        of the polygons as this is checked by Polygon.distance.</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">            - Prints a warning if the two polygons possibly intersect as the return</span>
<span class="sd">              value will not be valid in such a case. For a more through test of</span>
<span class="sd">              intersection use intersection().</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point.distance</span>

<span class="sd">        Examples</span>
<span class="sd">        =======</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Polygon</span>
<span class="sd">        &gt;&gt;&gt; square = Polygon(Point(0, 0), Point(0, 1), Point(1, 1), Point(1, 0))</span>
<span class="sd">        &gt;&gt;&gt; triangle = Polygon(Point(1, 2), Point(2, 2), Point(2, 1))</span>
<span class="sd">        &gt;&gt;&gt; square._do_poly_distance(triangle)</span>
<span class="sd">        sqrt(2)/2</span>

<span class="sd">        Description of method used</span>
<span class="sd">        ==========================</span>

<span class="sd">        Method:</span>
<span class="sd">        [1] http://cgm.cs.mcgill.ca/~orm/mind2p.html</span>
<span class="sd">        Uses rotating calipers:</span>
<span class="sd">        [2] http://en.wikipedia.org/wiki/Rotating_calipers</span>
<span class="sd">        and antipodal points:</span>
<span class="sd">        [3] http://en.wikipedia.org/wiki/Antipodal_point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="sd">&#39;&#39;&#39;Tests for a possible intersection between the polygons and outputs a warning&#39;&#39;&#39;</span>
        <span class="n">e1_center</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">centroid</span>
        <span class="n">e2_center</span> <span class="o">=</span> <span class="n">e2</span><span class="o">.</span><span class="n">centroid</span>
        <span class="n">e1_max_radius</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">Zero</span>
        <span class="n">e2_max_radius</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">Zero</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">e1</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_center</span><span class="p">,</span> <span class="n">vertex</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">e1_max_radius</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">:</span>
                <span class="n">e1_max_radius</span> <span class="o">=</span> <span class="n">r</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">e2</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e2_center</span><span class="p">,</span> <span class="n">vertex</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">e2_max_radius</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">:</span>
                <span class="n">e2_max_radius</span> <span class="o">=</span> <span class="n">r</span>
        <span class="n">center_dist</span> <span class="o">=</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_center</span><span class="p">,</span> <span class="n">e2_center</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">center_dist</span> <span class="o">&lt;=</span> <span class="n">e1_max_radius</span> <span class="o">+</span> <span class="n">e2_max_radius</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;Polygons may intersect producing erroneous output&quot;</span><span class="p">)</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Find the upper rightmost vertex of e1 and the lowest leftmost vertex of e2</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">e1_ymax</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">oo</span><span class="p">)</span>
        <span class="n">e2_ymin</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">e1</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vertex</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">e1_ymax</span><span class="o">.</span><span class="n">y</span> <span class="ow">or</span> <span class="p">(</span><span class="n">vertex</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">e1_ymax</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">vertex</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">e1_ymax</span><span class="o">.</span><span class="n">x</span><span class="p">):</span>
                <span class="n">e1_ymax</span> <span class="o">=</span> <span class="n">vertex</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">e2</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vertex</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">e2_ymin</span><span class="o">.</span><span class="n">y</span> <span class="ow">or</span> <span class="p">(</span><span class="n">vertex</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">e2_ymin</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">vertex</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">e2_ymin</span><span class="o">.</span><span class="n">x</span><span class="p">):</span>
                <span class="n">e2_ymin</span> <span class="o">=</span> <span class="n">vertex</span>
        <span class="n">min_dist</span> <span class="o">=</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_ymax</span><span class="p">,</span> <span class="n">e2_ymin</span><span class="p">)</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Produce a dictionary with vertices of e1 as the keys and, for each vertex, the points</span>
<span class="sd">        to which the vertex is connected as its value. The same is then done for e2.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">e1_connections</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">e2_connections</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="n">e1</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">p1</span> <span class="ow">in</span> <span class="n">e1_connections</span><span class="p">:</span>
                <span class="n">e1_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">e1_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">p2</span> <span class="ow">in</span> <span class="n">e1_connections</span><span class="p">:</span>
                <span class="n">e1_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">e1_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="n">e2</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">p1</span> <span class="ow">in</span> <span class="n">e2_connections</span><span class="p">:</span>
                <span class="n">e2_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">e2_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">p2</span> <span class="ow">in</span> <span class="n">e2_connections</span><span class="p">:</span>
                <span class="n">e2_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">e2_connections</span><span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">p1</span><span class="p">]</span>

        <span class="n">e1_current</span> <span class="o">=</span> <span class="n">e1_ymax</span>
        <span class="n">e2_current</span> <span class="o">=</span> <span class="n">e2_ymin</span>
        <span class="n">support_line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">Zero</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span><span class="n">Zero</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">One</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span><span class="n">Zero</span><span class="p">))</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Determine which point in e1 and e2 will be selected after e2_ymin and e1_ymax,</span>
<span class="sd">        this information combined with the above produced dictionaries determines the</span>
<span class="sd">        path that will be taken around the polygons</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">point1</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_ymax</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">point2</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_ymax</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">angle1</span> <span class="o">=</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">e1_ymax</span><span class="p">,</span> <span class="n">point1</span><span class="p">))</span>
        <span class="n">angle2</span> <span class="o">=</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">e1_ymax</span><span class="p">,</span> <span class="n">point2</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">angle1</span> <span class="o">&lt;</span> <span class="n">angle2</span><span class="p">:</span>
            <span class="n">e1_next</span> <span class="o">=</span> <span class="n">point1</span>
        <span class="k">elif</span> <span class="n">angle2</span> <span class="o">&lt;</span> <span class="n">angle1</span><span class="p">:</span>
            <span class="n">e1_next</span> <span class="o">=</span> <span class="n">point2</span>
        <span class="k">elif</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_ymax</span><span class="p">,</span> <span class="n">point1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_ymax</span><span class="p">,</span> <span class="n">point2</span><span class="p">):</span>
            <span class="n">e1_next</span> <span class="o">=</span> <span class="n">point2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">e1_next</span> <span class="o">=</span> <span class="n">point1</span>

        <span class="n">point1</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_ymin</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">point2</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_ymin</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">angle1</span> <span class="o">=</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">e2_ymin</span><span class="p">,</span> <span class="n">point1</span><span class="p">))</span>
        <span class="n">angle2</span> <span class="o">=</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">e2_ymin</span><span class="p">,</span> <span class="n">point2</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">angle1</span> <span class="o">&gt;</span> <span class="n">angle2</span><span class="p">:</span>
            <span class="n">e2_next</span> <span class="o">=</span> <span class="n">point1</span>
        <span class="k">elif</span> <span class="n">angle2</span> <span class="o">&gt;</span> <span class="n">angle1</span><span class="p">:</span>
            <span class="n">e2_next</span> <span class="o">=</span> <span class="n">point2</span>
        <span class="k">elif</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e2_ymin</span><span class="p">,</span> <span class="n">point1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e2_ymin</span><span class="p">,</span> <span class="n">point2</span><span class="p">):</span>
            <span class="n">e2_next</span> <span class="o">=</span> <span class="n">point2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">e2_next</span> <span class="o">=</span> <span class="n">point1</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Loop which determins the distance between anti-podal pairs and updates the</span>
<span class="sd">        minimum distance accordingly. It repeats until it reaches the starting position.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">e1_angle</span> <span class="o">=</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">e1_current</span><span class="p">,</span> <span class="n">e1_next</span><span class="p">))</span>
            <span class="n">e2_angle</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">-</span> <span class="n">support_line</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span>
                <span class="n">e2_current</span><span class="p">,</span> <span class="n">e2_next</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">e1_angle</span> <span class="o">&lt;</span> <span class="n">e2_angle</span><span class="p">:</span>
                <span class="n">support_line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">e1_current</span><span class="p">,</span> <span class="n">e1_next</span><span class="p">)</span>
                <span class="n">e1_segment</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">e1_current</span><span class="p">,</span> <span class="n">e1_next</span><span class="p">)</span>
                <span class="n">min_dist_current</span> <span class="o">=</span> <span class="n">e1_segment</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e2_current</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">min_dist_current</span><span class="o">.</span><span class="n">evalf</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">min_dist</span><span class="o">.</span><span class="n">evalf</span><span class="p">():</span>
                    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">min_dist_current</span>

                <span class="k">if</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">e1_current</span><span class="p">:</span>
                    <span class="n">e1_current</span> <span class="o">=</span> <span class="n">e1_next</span>
                    <span class="n">e1_next</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">e1_current</span> <span class="o">=</span> <span class="n">e1_next</span>
                    <span class="n">e1_next</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">e1_angle</span> <span class="o">&gt;</span> <span class="n">e2_angle</span><span class="p">:</span>
                <span class="n">support_line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">e2_next</span><span class="p">,</span> <span class="n">e2_current</span><span class="p">)</span>
                <span class="n">e2_segment</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">e2_current</span><span class="p">,</span> <span class="n">e2_next</span><span class="p">)</span>
                <span class="n">min_dist_current</span> <span class="o">=</span> <span class="n">e2_segment</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_current</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">min_dist_current</span><span class="o">.</span><span class="n">evalf</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">min_dist</span><span class="o">.</span><span class="n">evalf</span><span class="p">():</span>
                    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">min_dist_current</span>

                <span class="k">if</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">e2_current</span><span class="p">:</span>
                    <span class="n">e2_current</span> <span class="o">=</span> <span class="n">e2_next</span>
                    <span class="n">e2_next</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">e2_current</span> <span class="o">=</span> <span class="n">e2_next</span>
                    <span class="n">e2_next</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">support_line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">e1_current</span><span class="p">,</span> <span class="n">e1_next</span><span class="p">)</span>
                <span class="n">e1_segment</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">e1_current</span><span class="p">,</span> <span class="n">e1_next</span><span class="p">)</span>
                <span class="n">e2_segment</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">e2_current</span><span class="p">,</span> <span class="n">e2_next</span><span class="p">)</span>
                <span class="n">min1</span> <span class="o">=</span> <span class="n">e1_segment</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e2_next</span><span class="p">)</span>
                <span class="n">min2</span> <span class="o">=</span> <span class="n">e2_segment</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">e1_next</span><span class="p">)</span>

                <span class="n">min_dist_current</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">min1</span><span class="p">,</span> <span class="n">min2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">min_dist_current</span><span class="o">.</span><span class="n">evalf</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">min_dist</span><span class="o">.</span><span class="n">evalf</span><span class="p">():</span>
                    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">min_dist_current</span>

                <span class="k">if</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">e1_current</span><span class="p">:</span>
                    <span class="n">e1_current</span> <span class="o">=</span> <span class="n">e1_next</span>
                    <span class="n">e1_next</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">e1_current</span> <span class="o">=</span> <span class="n">e1_next</span>
                    <span class="n">e1_next</span> <span class="o">=</span> <span class="n">e1_connections</span><span class="p">[</span><span class="n">e1_next</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">e2_current</span><span class="p">:</span>
                    <span class="n">e2_current</span> <span class="o">=</span> <span class="n">e2_next</span>
                    <span class="n">e2_next</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">e2_current</span> <span class="o">=</span> <span class="n">e2_next</span>
                    <span class="n">e2_next</span> <span class="o">=</span> <span class="n">e2_connections</span><span class="p">[</span><span class="n">e2_next</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">e1_current</span> <span class="o">==</span> <span class="n">e1_ymax</span> <span class="ow">and</span> <span class="n">e2_current</span> <span class="o">==</span> <span class="n">e2_ymin</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">min_dist</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">args</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="c"># See if self can ever be traversed (cw or ccw) from any of its</span>
        <span class="c"># vertices to match all points of o</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="n">oargs</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">args</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">o0</span> <span class="o">=</span> <span class="n">oargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i0</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="n">i0</span><span class="p">]</span> <span class="o">==</span> <span class="n">o0</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">args</span><span class="p">[(</span><span class="n">i0</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="n">oargs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)):</span>
                    <span class="k">return</span> <span class="bp">True</span>
                <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">args</span><span class="p">[(</span><span class="n">i0</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="n">oargs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)):</span>
                    <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Polygon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__hash__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return True if o is contained within the boundary lines of self.altitudes</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        other : GeometryEntity</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        contained in : bool</span>
<span class="sd">            The points (and sides, if applicable) are contained in self.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.entity.GeometryEntity.encloses</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Line, Segment, Point</span>
<span class="sd">        &gt;&gt;&gt; p = Point(0, 0)</span>
<span class="sd">        &gt;&gt;&gt; q = Point(1, 1)</span>
<span class="sd">        &gt;&gt;&gt; s = Segment(p, q*2)</span>
<span class="sd">        &gt;&gt;&gt; l = Line(p, q)</span>
<span class="sd">        &gt;&gt;&gt; p in q</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; p in s</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; q*3 in s</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; s in l</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">o</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Segment</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">o</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Point</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">side</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">True</span>

        <span class="k">return</span> <span class="bp">False</span>

</div>
<div class="viewcode-block" id="RegularPolygon"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon">[docs]</a><span class="k">class</span> <span class="nc">RegularPolygon</span><span class="p">(</span><span class="n">Polygon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A regular polygon.</span>

<span class="sd">    Such a polygon has all internal angles equal and all sides the same length.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ==========</span>

<span class="sd">    center : Point</span>
<span class="sd">    radius : number or Basic instance</span>
<span class="sd">        The distance from the center to a vertex</span>
<span class="sd">    n : int</span>
<span class="sd">        The number of sides</span>

<span class="sd">    Attributes</span>
<span class="sd">    ==========</span>

<span class="sd">    vertices</span>
<span class="sd">    center</span>
<span class="sd">    radius</span>
<span class="sd">    rotation</span>
<span class="sd">    apothem</span>
<span class="sd">    interior_angle</span>
<span class="sd">    exterior_angle</span>
<span class="sd">    circumcircle</span>
<span class="sd">    incircle</span>
<span class="sd">    angles</span>

<span class="sd">    Raises</span>
<span class="sd">    ======</span>

<span class="sd">    GeometryError</span>
<span class="sd">        If the `center` is not a Point, or the `radius` is not a number or Basic</span>
<span class="sd">        instance, or the number of sides, `n`, is less than three.</span>

<span class="sd">    Notes</span>
<span class="sd">    =====</span>

<span class="sd">    A RegularPolygon can be instantiated with Polygon with the kwarg n.</span>

<span class="sd">    Regular polygons are instantiated with a center, radius, number of sides</span>
<span class="sd">    and a rotation angle. Whereas the arguments of a Polygon are vertices, the</span>
<span class="sd">    vertices of the RegularPolygon must be obtained with the vertices method.</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    sympy.geometry.point.Point, Polygon</span>

<span class="sd">    Examples</span>
<span class="sd">    ========</span>

<span class="sd">    &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">    &gt;&gt;&gt; r = RegularPolygon(Point(0, 0), 5, 3)</span>
<span class="sd">    &gt;&gt;&gt; r</span>
<span class="sd">    RegularPolygon(Point(0, 0), 5, 3, 0)</span>
<span class="sd">    &gt;&gt;&gt; r.vertices[0]</span>
<span class="sd">    Point(5, 0)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;_n&#39;</span><span class="p">,</span> <span class="s">&#39;_center&#39;</span><span class="p">,</span> <span class="s">&#39;_radius&#39;</span><span class="p">,</span> <span class="s">&#39;_rot&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">sympify</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span><span class="p">))</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">Expr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">GeometryError</span><span class="p">(</span><span class="s">&quot;r must be an Expr object, not </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_Number</span><span class="p">:</span>
            <span class="n">as_int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c"># let an error raise if necessary</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">GeometryError</span><span class="p">(</span><span class="s">&quot;n must be a &gt;= 3, not </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="n">GeometryEntity</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_n</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_center</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">r</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_rot</span> <span class="o">=</span> <span class="n">rot</span>
        <span class="k">return</span> <span class="n">obj</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.args"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.args">[docs]</a>    <span class="k">def</span> <span class="nf">args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the center point, the radius,</span>
<span class="sd">        the number of sides, and the orientation angle.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; r = RegularPolygon(Point(0, 0), 5, 3)</span>
<span class="sd">        &gt;&gt;&gt; r.args</span>
<span class="sd">        (Point(0, 0), 5, 3, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rot</span>
</div>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;RegularPolygon(</span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;RegularPolygon(</span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.area"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.area">[docs]</a>    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the area.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon</span>
<span class="sd">        &gt;&gt;&gt; square = RegularPolygon((0, 0), 1, 4)</span>
<span class="sd">        &gt;&gt;&gt; square.area</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; _ == square.length**2</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">return</span> <span class="n">sign</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">tan</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="n">n</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.length"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.length">[docs]</a>    <span class="k">def</span> <span class="nf">length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the length of the sides.</span>

<span class="sd">        The half-length of the side and the apothem form two legs</span>
<span class="sd">        of a right triangle whose hypotenuse is the radius of the</span>
<span class="sd">        regular polygon.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon</span>
<span class="sd">        &gt;&gt;&gt; from sympy import sqrt</span>
<span class="sd">        &gt;&gt;&gt; s = square_in_unit_circle = RegularPolygon((0, 0), 1, 4)</span>
<span class="sd">        &gt;&gt;&gt; s.length</span>
<span class="sd">        sqrt(2)</span>
<span class="sd">        &gt;&gt;&gt; sqrt((_/2)**2 + s.apothem**2) == s.radius</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.center"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.center">[docs]</a>    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The center of the RegularPolygon</span>

<span class="sd">        This is also the center of the circumscribing circle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        center : Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.ellipse.Ellipse.center</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 5, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.center</span>
<span class="sd">        Point(0, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_center</span>
</div>
    <span class="n">centroid</span> <span class="o">=</span> <span class="n">center</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.circumcenter"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.circumcenter">[docs]</a>    <span class="k">def</span> <span class="nf">circumcenter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Alias for center.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 5, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.circumcenter</span>
<span class="sd">        Point(0, 0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.radius"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.radius">[docs]</a>    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Radius of the RegularPolygon</span>

<span class="sd">        This is also the radius of the circumscribing circle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        radius : number or instance of Basic</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.Segment.length, sympy.geometry.ellipse.Circle.radius</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Symbol</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; radius = Symbol(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), radius, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.radius</span>
<span class="sd">        r</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.circumradius"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.circumradius">[docs]</a>    <span class="k">def</span> <span class="nf">circumradius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Alias for radius.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Symbol</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; radius = Symbol(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), radius, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.circumradius</span>
<span class="sd">        r</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.rotation"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.rotation">[docs]</a>    <span class="k">def</span> <span class="nf">rotation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;CCW angle by which the RegularPolygon is rotated</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        rotation : number or instance of Basic</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import pi</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; RegularPolygon(Point(0, 0), 3, 4, pi).rotation</span>
<span class="sd">        pi</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rot</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.apothem"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.apothem">[docs]</a>    <span class="k">def</span> <span class="nf">apothem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The inradius of the RegularPolygon.</span>

<span class="sd">        The apothem/inradius is the radius of the inscribed circle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        apothem : number or instance of Basic</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.Segment.length, sympy.geometry.ellipse.Circle.radius</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Symbol</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; radius = Symbol(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), radius, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.apothem</span>
<span class="sd">        sqrt(2)*r/2</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">Pi</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.inradius"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.inradius">[docs]</a>    <span class="k">def</span> <span class="nf">inradius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Alias for apothem.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Symbol</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; radius = Symbol(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), radius, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.inradius</span>
<span class="sd">        sqrt(2)*r/2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apothem</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.interior_angle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.interior_angle">[docs]</a>    <span class="k">def</span> <span class="nf">interior_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Measure of the interior angles.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        interior_angle : number</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.LinearEntity.angle_between</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 4, 8)</span>
<span class="sd">        &gt;&gt;&gt; rp.interior_angle</span>
<span class="sd">        3*pi/4</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">Pi</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.exterior_angle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.exterior_angle">[docs]</a>    <span class="k">def</span> <span class="nf">exterior_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Measure of the exterior angles.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        exterior_angle : number</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.LinearEntity.angle_between</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 4, 8)</span>
<span class="sd">        &gt;&gt;&gt; rp.exterior_angle</span>
<span class="sd">        pi/4</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">Pi</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.circumcircle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.circumcircle">[docs]</a>    <span class="k">def</span> <span class="nf">circumcircle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The circumcircle of the RegularPolygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        circumcircle : Circle</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        circumcenter, sympy.geometry.ellipse.Circle</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 4, 8)</span>
<span class="sd">        &gt;&gt;&gt; rp.circumcircle</span>
<span class="sd">        Circle(Point(0, 0), 4)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.incircle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.incircle">[docs]</a>    <span class="k">def</span> <span class="nf">incircle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The incircle of the RegularPolygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        incircle : Circle</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        inradius, sympy.geometry.ellipse.Circle</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 4, 7)</span>
<span class="sd">        &gt;&gt;&gt; rp.incircle</span>
<span class="sd">        Circle(Point(0, 0), 4*cos(pi/7))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">apothem</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.angles"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.angles">[docs]</a>    <span class="k">def</span> <span class="nf">angles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary with keys, the vertices of the Polygon,</span>
<span class="sd">        and values, the interior angle at each vertex.</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; r = RegularPolygon(Point(0, 0), 5, 3)</span>
<span class="sd">        &gt;&gt;&gt; r.angles</span>
<span class="sd">        {Point(-5/2, -5*sqrt(3)/2): pi/3,</span>
<span class="sd">         Point(-5/2, 5*sqrt(3)/2): pi/3,</span>
<span class="sd">         Point(5, 0): pi/3}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ang</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interior_angle</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">ang</span>
        <span class="k">return</span> <span class="n">ret</span>
</div>
<div class="viewcode-block" id="RegularPolygon.encloses_point"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.encloses_point">[docs]</a>    <span class="k">def</span> <span class="nf">encloses_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return True if p is enclosed by (is inside of) self.</span>

<span class="sd">        Notes</span>
<span class="sd">        =====</span>

<span class="sd">        Being on the border of self is considered False.</span>

<span class="sd">        The general Polygon.encloses_point method is called only if</span>
<span class="sd">        a point is not within or beyond the incircle or circumcircle,</span>
<span class="sd">        respectively.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        p : Point</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        encloses_point : True, False or None</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.ellipse.Ellipse.encloses_point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import RegularPolygon, S, Point, Symbol</span>
<span class="sd">        &gt;&gt;&gt; p = RegularPolygon((0, 0), 3, 4)</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(0, 0))</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; r, R = p.inradius, p.circumradius</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point((r + R)/2, 0))</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(R/2, R/2 + (R - r)/10))</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; t = Symbol(&#39;t&#39;, real=True)</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(p.arbitrary_point().subs(t, S.Half))</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; p.encloses_point(Point(5, 5))</span>
<span class="sd">        False</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span><span class="o">.</span><span class="n">length</span>
        <span class="k">if</span> <span class="n">d</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">elif</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">inradius</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># now enumerate the RegularPolygon like a general polygon.</span>
            <span class="k">return</span> <span class="n">Polygon</span><span class="o">.</span><span class="n">encloses_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="RegularPolygon.spin"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.spin">[docs]</a>    <span class="k">def</span> <span class="nf">spin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Increment *in place* the virtual Polygon&#39;s rotation by ccw angle.</span>

<span class="sd">        See also: rotate method which moves the center.</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Polygon, Point, pi</span>
<span class="sd">        &gt;&gt;&gt; r = Polygon(Point(0,0), 1, n=3)</span>
<span class="sd">        &gt;&gt;&gt; r.vertices[0]</span>
<span class="sd">        Point(1, 0)</span>
<span class="sd">        &gt;&gt;&gt; r.spin(pi/6)</span>
<span class="sd">        &gt;&gt;&gt; r.vertices[0]</span>
<span class="sd">        Point(sqrt(3)/2, 1/2)</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        rotation</span>
<span class="sd">        rotate : Creates a copy of the RegularPolygon rotated about a Point</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rot</span> <span class="o">+=</span> <span class="n">angle</span>
</div>
<div class="viewcode-block" id="RegularPolygon.rotate"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">pt</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override GeometryEntity.rotate to first rotate the RegularPolygon</span>
<span class="sd">        about its center.</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Point, RegularPolygon, Polygon, pi</span>
<span class="sd">        &gt;&gt;&gt; t = RegularPolygon(Point(1, 0), 1, 3)</span>
<span class="sd">        &gt;&gt;&gt; t.vertices[0] # vertex on x-axis</span>
<span class="sd">        Point(2, 0)</span>
<span class="sd">        &gt;&gt;&gt; t.rotate(pi/2).vertices[0] # vertex on y axis now</span>
<span class="sd">        Point(0, 2)</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        rotation</span>
<span class="sd">        spin : Rotates a RegularPolygon in place</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">r</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>  <span class="c"># need a copy or else changes are in-place</span>
        <span class="n">r</span><span class="o">.</span><span class="n">_rot</span> <span class="o">+=</span> <span class="n">angle</span>
        <span class="k">return</span> <span class="n">GeometryEntity</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">pt</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="RegularPolygon.scale"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.scale">[docs]</a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pt</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override GeometryEntity.scale since it is the radius that must be</span>
<span class="sd">        scaled (if x == y) or else a new Polygon must be returned.</span>

<span class="sd">        &gt;&gt;&gt; from sympy import RegularPolygon</span>

<span class="sd">        Symmetric scaling returns a RegularPolygon:</span>

<span class="sd">        &gt;&gt;&gt; RegularPolygon((0, 0), 1, 4).scale(2, 2)</span>
<span class="sd">        RegularPolygon(Point(0, 0), 2, 4, 0)</span>

<span class="sd">        Asymmetric scaling returns a kite as a Polygon:</span>

<span class="sd">        &gt;&gt;&gt; RegularPolygon((0, 0), 1, 4).scale(2, 1)</span>
<span class="sd">        Polygon(Point(2, 0), Point(0, 1), Point(-2, 0), Point(0, -1))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">pt</span><span class="p">:</span>
            <span class="n">pt</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="n">pt</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">*</span><span class="n">pt</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Polygon</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="n">r</span> <span class="o">*=</span> <span class="n">x</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="RegularPolygon.reflect"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.reflect">[docs]</a>    <span class="k">def</span> <span class="nf">reflect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override GeometryEntity.reflect since this is not made of only</span>
<span class="sd">        points.</span>

<span class="sd">        &gt;&gt;&gt; from sympy import RegularPolygon, Line</span>

<span class="sd">        &gt;&gt;&gt; RegularPolygon((0, 0), 1, 4).reflect(Line((0, 1), slope=-2))</span>
<span class="sd">        RegularPolygon(Point(4/5, 2/5), -1, 4, acos(3/5))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="n">cc</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">vv</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="c"># see how much it must get spun at the new center</span>
        <span class="n">ang</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">cc</span><span class="p">,</span> <span class="n">vv</span><span class="p">)</span><span class="o">.</span><span class="n">angle_between</span><span class="p">(</span><span class="n">Segment</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
        <span class="n">rot</span> <span class="o">=</span> <span class="p">(</span><span class="n">rot</span> <span class="o">+</span> <span class="n">ang</span> <span class="o">+</span> <span class="n">pi</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">cc</span><span class="p">,</span> <span class="o">-</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">rot</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RegularPolygon.vertices"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.RegularPolygon.vertices">[docs]</a>    <span class="k">def</span> <span class="nf">vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The vertices of the RegularPolygon.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        vertices : list</span>
<span class="sd">            Each vertex is a Point.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import RegularPolygon, Point</span>
<span class="sd">        &gt;&gt;&gt; rp = RegularPolygon(Point(0, 0), 5, 4)</span>
<span class="sd">        &gt;&gt;&gt; rp.vertices</span>
<span class="sd">        [Point(5, 0), Point(0, 5), Point(-5, 0), Point(0, -5)]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_center</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="p">)</span>
        <span class="n">rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rot</span>
        <span class="n">v</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">Pi</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="n">rot</span><span class="p">),</span> <span class="n">c</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="n">rot</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_n</span><span class="p">)]</span>
</div>
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">RegularPolygon</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Polygon</span><span class="o">.</span><span class="n">__eq__</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">==</span> <span class="n">o</span><span class="o">.</span><span class="n">args</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">RegularPolygon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__hash__</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="Triangle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle">[docs]</a><span class="k">class</span> <span class="nc">Triangle</span><span class="p">(</span><span class="n">Polygon</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A polygon with three vertices and three sides.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ==========</span>

<span class="sd">    points : sequence of Points</span>
<span class="sd">    keyword: asa, sas, or sss to specify sides/angles of the triangle</span>

<span class="sd">    Attributes</span>
<span class="sd">    ==========</span>

<span class="sd">    vertices</span>
<span class="sd">    altitudes</span>
<span class="sd">    orthocenter</span>
<span class="sd">    circumcenter</span>
<span class="sd">    circumradius</span>
<span class="sd">    circumcircle</span>
<span class="sd">    inradius</span>
<span class="sd">    incircle</span>
<span class="sd">    medians</span>
<span class="sd">    medial</span>

<span class="sd">    Raises</span>
<span class="sd">    ======</span>

<span class="sd">    GeometryError</span>
<span class="sd">        If the number of vertices is not equal to three, or one of the vertices</span>
<span class="sd">        is not a Point, or a valid keyword is not given.</span>

<span class="sd">    See Also</span>
<span class="sd">    ========</span>

<span class="sd">    sympy.geometry.point.Point, Polygon</span>

<span class="sd">    Examples</span>
<span class="sd">    ========</span>

<span class="sd">    &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">    &gt;&gt;&gt; Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>
<span class="sd">    Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>

<span class="sd">    Keywords sss, sas, or asa can be used to give the desired</span>
<span class="sd">    side lengths (in order) and interior angles (in degrees) that</span>
<span class="sd">    define the triangle:</span>

<span class="sd">    &gt;&gt;&gt; Triangle(sss=(3, 4, 5))</span>
<span class="sd">    Triangle(Point(0, 0), Point(3, 0), Point(3, 4))</span>
<span class="sd">    &gt;&gt;&gt; Triangle(asa=(30, 1, 30))</span>
<span class="sd">    Triangle(Point(0, 0), Point(1, 0), Point(1/2, sqrt(3)/6))</span>
<span class="sd">    &gt;&gt;&gt; Triangle(sas=(1, 45, 2))</span>
<span class="sd">    Triangle(Point(0, 0), Point(2, 0), Point(sqrt(2)/2, sqrt(2)/2))</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="s">&#39;sss&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_sss</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">simplify</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;sss&#39;</span><span class="p">]])</span>
            <span class="k">if</span> <span class="s">&#39;asa&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_asa</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">simplify</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;asa&#39;</span><span class="p">]])</span>
            <span class="k">if</span> <span class="s">&#39;sas&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_sas</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">simplify</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;sas&#39;</span><span class="p">]])</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Triangle instantiates with three points or a valid keyword.&quot;</span>
            <span class="k">raise</span> <span class="n">GeometryError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>

        <span class="c"># remove consecutive duplicates</span>
        <span class="n">nodup</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">vertices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nodup</span> <span class="ow">and</span> <span class="n">p</span> <span class="o">==</span> <span class="n">nodup</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="n">nodup</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">nodup</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">nodup</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">nodup</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c"># last point was same as first</span>

        <span class="c"># remove collinear points</span>
        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodup</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">nodup</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]])</span>
            <span class="k">if</span> <span class="n">Point</span><span class="o">.</span><span class="n">is_collinear</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
                <span class="n">nodup</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
                <span class="n">nodup</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="n">nodup</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> <span class="n">nodup</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">GeometryEntity</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Segment</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.vertices"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.vertices">[docs]</a>    <span class="k">def</span> <span class="nf">vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The triangle&#39;s vertices</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        vertices : tuple</span>
<span class="sd">            Each element in the tuple is a Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>
<span class="sd">        &gt;&gt;&gt; t.vertices</span>
<span class="sd">        (Point(0, 0), Point(4, 0), Point(4, 3))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
</div>
<div class="viewcode-block" id="Triangle.is_similar"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.is_similar">[docs]</a>    <span class="k">def</span> <span class="nf">is_similar</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Is another triangle similar to this one.</span>

<span class="sd">        Two triangles are similar if one can be uniformly scaled to the other.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ==========</span>

<span class="sd">        other: Triangle</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_similar : boolean</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.entity.GeometryEntity.is_similar</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t1 = Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>
<span class="sd">        &gt;&gt;&gt; t2 = Triangle(Point(0, 0), Point(-4, 0), Point(-4, -3))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_similar(t2)</span>
<span class="sd">        True</span>

<span class="sd">        &gt;&gt;&gt; t2 = Triangle(Point(0, 0), Point(-4, 0), Point(-4, -4))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_similar(t2)</span>
<span class="sd">        False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">Polygon</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="n">s1_1</span><span class="p">,</span> <span class="n">s1_2</span><span class="p">,</span> <span class="n">s1_3</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="n">t1</span><span class="o">.</span><span class="n">sides</span><span class="p">]</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="p">[</span><span class="n">side</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="n">t2</span><span class="o">.</span><span class="n">sides</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">_are_similar</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">,</span> <span class="n">u3</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">):</span>
            <span class="n">e1</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">u1</span><span class="o">/</span><span class="n">v1</span><span class="p">)</span>
            <span class="n">e2</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">u2</span><span class="o">/</span><span class="n">v2</span><span class="p">)</span>
            <span class="n">e3</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">u3</span><span class="o">/</span><span class="n">v3</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">bool</span><span class="p">(</span><span class="n">e2</span> <span class="o">==</span> <span class="n">e3</span><span class="p">)</span>

        <span class="c"># There&#39;s only 6 permutations, so write them out</span>
        <span class="k">return</span> <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_1</span><span class="p">,</span> <span class="n">s1_2</span><span class="p">,</span> <span class="n">s1_3</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_1</span><span class="p">,</span> <span class="n">s1_3</span><span class="p">,</span> <span class="n">s1_2</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_2</span><span class="p">,</span> <span class="n">s1_1</span><span class="p">,</span> <span class="n">s1_3</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_2</span><span class="p">,</span> <span class="n">s1_3</span><span class="p">,</span> <span class="n">s1_1</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_3</span><span class="p">,</span> <span class="n">s1_1</span><span class="p">,</span> <span class="n">s1_2</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_are_similar</span><span class="p">(</span><span class="n">s1_3</span><span class="p">,</span> <span class="n">s1_2</span><span class="p">,</span> <span class="n">s1_1</span><span class="p">,</span> <span class="o">*</span><span class="n">s2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Triangle.is_equilateral"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.is_equilateral">[docs]</a>    <span class="k">def</span> <span class="nf">is_equilateral</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Are all the sides the same length?</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_equilateral : boolean</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.entity.GeometryEntity.is_similar, RegularPolygon</span>
<span class="sd">        is_isosceles, is_right, is_scalene</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t1 = Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_equilateral()</span>
<span class="sd">        False</span>

<span class="sd">        &gt;&gt;&gt; from sympy import sqrt</span>
<span class="sd">        &gt;&gt;&gt; t2 = Triangle(Point(0, 0), Point(10, 0), Point(5, 5*sqrt(3)))</span>
<span class="sd">        &gt;&gt;&gt; t2.is_equilateral()</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">has_variety</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Triangle.is_isosceles"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.is_isosceles">[docs]</a>    <span class="k">def</span> <span class="nf">is_isosceles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Are two or more of the sides the same length?</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_isosceles : boolean</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        is_equilateral, is_right, is_scalene</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t1 = Triangle(Point(0, 0), Point(4, 0), Point(2, 4))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_isosceles()</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">has_dups</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Triangle.is_scalene"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.is_scalene">[docs]</a>    <span class="k">def</span> <span class="nf">is_scalene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Are all the sides of the triangle of different lengths?</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_scalene : boolean</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        is_equilateral, is_isosceles, is_right</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t1 = Triangle(Point(0, 0), Point(4, 0), Point(1, 4))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_scalene()</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">has_dups</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Triangle.is_right"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.is_right">[docs]</a>    <span class="k">def</span> <span class="nf">is_right</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Is the triangle right-angled.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        is_right : boolean</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.LinearEntity.is_perpendicular</span>
<span class="sd">        is_equilateral, is_isosceles, is_scalene</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Triangle, Point</span>
<span class="sd">        &gt;&gt;&gt; t1 = Triangle(Point(0, 0), Point(4, 0), Point(4, 3))</span>
<span class="sd">        &gt;&gt;&gt; t1.is_right()</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="k">return</span> <span class="n">Segment</span><span class="o">.</span><span class="n">is_perpendicular</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> \
            <span class="n">Segment</span><span class="o">.</span><span class="n">is_perpendicular</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="ow">or</span> \
            <span class="n">Segment</span><span class="o">.</span><span class="n">is_perpendicular</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.altitudes"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.altitudes">[docs]</a>    <span class="k">def</span> <span class="nf">altitudes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The altitudes of the triangle.</span>

<span class="sd">        An altitude of a triangle is a segment through a vertex,</span>
<span class="sd">        perpendicular to the opposite side, with length being the</span>
<span class="sd">        height of the vertex measured from the line containing the side.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        altitudes : dict</span>
<span class="sd">            The dictionary consists of keys which are vertices and values</span>
<span class="sd">            which are Segments.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.line.Segment.length</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.altitudes[p1]</span>
<span class="sd">        Segment(Point(0, 0), Point(1/2, 1/2))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">perpendicular_segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">perpendicular_segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">perpendicular_segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])}</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.orthocenter"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.orthocenter">[docs]</a>    <span class="k">def</span> <span class="nf">orthocenter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The orthocenter of the triangle.</span>

<span class="sd">        The orthocenter is the intersection of the altitudes of a triangle.</span>
<span class="sd">        It may lie inside, outside or on the triangle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        orthocenter : Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.orthocenter</span>
<span class="sd">        Point(0, 0)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">altitudes</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="k">return</span> <span class="n">Line</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]]))[</span><span class="mi">0</span><span class="p">]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.circumcenter"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.circumcenter">[docs]</a>    <span class="k">def</span> <span class="nf">circumcenter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The circumcenter of the triangle</span>

<span class="sd">        The circumcenter is the center of the circumcircle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        circumcenter : Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.circumcenter</span>
<span class="sd">        Point(1/2, 1/2)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">perpendicular_bisector</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">b</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.circumradius"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.circumradius">[docs]</a>    <span class="k">def</span> <span class="nf">circumradius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The radius of the circumcircle of the triangle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        circumradius : number of Basic instance</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.ellipse.Circle.radius</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy import Symbol</span>
<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; a = Symbol(&#39;a&#39;)</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, a)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.circumradius</span>
<span class="sd">        sqrt(a**2/4 + 1/4)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Point</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circumcenter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.circumcircle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.circumcircle">[docs]</a>    <span class="k">def</span> <span class="nf">circumcircle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The circle which passes through the three vertices of the triangle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        circumcircle : Circle</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.ellipse.Circle</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.circumcircle</span>
<span class="sd">        Circle(Point(1/2, 1/2), sqrt(2)/2)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circumcenter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">circumradius</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Triangle.bisectors"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.bisectors">[docs]</a>    <span class="k">def</span> <span class="nf">bisectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The angle bisectors of the triangle.</span>

<span class="sd">        An angle bisector of a triangle is a straight line through a vertex</span>
<span class="sd">        which cuts the corresponding angle in half.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        bisectors : dict</span>
<span class="sd">            Each key is a vertex (Point) and each value is the corresponding</span>
<span class="sd">            bisector (Segment).</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point, sympy.geometry.line.Segment</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle, Segment</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; from sympy import sqrt</span>
<span class="sd">        &gt;&gt;&gt; t.bisectors()[p2] == Segment(Point(0, sqrt(2) - 1), Point(1, 0))</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">incenter</span>
        <span class="n">l1</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Line</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">l2</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Line</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">l3</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Line</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">l1</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">l2</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">l3</span><span class="p">}</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.incenter"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.incenter">[docs]</a>    <span class="k">def</span> <span class="nf">incenter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The center of the incircle.</span>

<span class="sd">        The incircle is the circle which lies inside the triangle and touches</span>
<span class="sd">        all three sides.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        incenter : Point</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        incircle, sympy.geometry.point.Point</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.incenter</span>
<span class="sd">        Point(-sqrt(2)/2 + 1, -sqrt(2)/2 + 1)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="n">l</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([</span><span class="n">vi</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">vi</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]))</span><span class="o">/</span><span class="n">p</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">simplify</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([</span><span class="n">vi</span><span class="o">.</span><span class="n">y</span> <span class="k">for</span> <span class="n">vi</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]))</span><span class="o">/</span><span class="n">p</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.inradius"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.inradius">[docs]</a>    <span class="k">def</span> <span class="nf">inradius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The radius of the incircle.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        inradius : number of Basic instance</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        incircle, sympy.geometry.ellipse.Circle.radius</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(4, 0), Point(0, 3)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.inradius</span>
<span class="sd">        1</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">simplify</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">perimeter</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.incircle"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.incircle">[docs]</a>    <span class="k">def</span> <span class="nf">incircle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The incircle of the triangle.</span>

<span class="sd">        The incircle is the circle which lies inside the triangle and touches</span>
<span class="sd">        all three sides.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        incircle : Circle</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.ellipse.Circle</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(2, 0), Point(0, 2)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.incircle</span>
<span class="sd">        Circle(Point(-sqrt(2) + 2, -sqrt(2) + 2), -sqrt(2) + 2)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">incenter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inradius</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.medians"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.medians">[docs]</a>    <span class="k">def</span> <span class="nf">medians</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The medians of the triangle.</span>

<span class="sd">        A median of a triangle is a straight line through a vertex and the</span>
<span class="sd">        midpoint of the opposite side, and divides the triangle into two</span>
<span class="sd">        equal areas.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        medians : dict</span>
<span class="sd">            Each key is a vertex (Point) and each value is the median (Segment)</span>
<span class="sd">            at that point.</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.point.Point.midpoint, sympy.geometry.line.Segment.midpoint</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.medians[p1]</span>
<span class="sd">        Segment(Point(0, 0), Point(1/2, 1/2))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">Segment</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Segment</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">Segment</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])}</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Triangle.medial"><a class="viewcode-back" href="../../../modules/geometry.html#sympy.geometry.polygon.Triangle.medial">[docs]</a>    <span class="k">def</span> <span class="nf">medial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The medial triangle of the triangle.</span>

<span class="sd">        The triangle which is formed from the midpoints of the three sides.</span>

<span class="sd">        Returns</span>
<span class="sd">        =======</span>

<span class="sd">        medial : Triangle</span>

<span class="sd">        See Also</span>
<span class="sd">        ========</span>

<span class="sd">        sympy.geometry.line.Segment.midpoint</span>

<span class="sd">        Examples</span>
<span class="sd">        ========</span>

<span class="sd">        &gt;&gt;&gt; from sympy.geometry import Point, Triangle</span>
<span class="sd">        &gt;&gt;&gt; p1, p2, p3 = Point(0, 0), Point(1, 0), Point(0, 1)</span>
<span class="sd">        &gt;&gt;&gt; t = Triangle(p1, p2, p3)</span>
<span class="sd">        &gt;&gt;&gt; t.medial</span>
<span class="sd">        Triangle(Point(1/2, 0), Point(1/2, 1/2), Point(0, 1/2))</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sides</span>
        <span class="k">return</span> <span class="n">Triangle</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">midpoint</span><span class="p">)</span>

    <span class="c">#@property</span>
    <span class="c">#def excircles(self):</span>
    <span class="c">#    &quot;&quot;&quot;Returns a list of the three excircles for this triangle.&quot;&quot;&quot;</span>
    <span class="c">#    pass</span>

</div></div>
<span class="k">def</span> <span class="nf">rad</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the radian value for the given degrees (pi = 180 degrees).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">d</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span>


<span class="k">def</span> <span class="nf">deg</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the degree value for the given radians (pi = 180 degrees).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">r</span><span class="o">/</span><span class="n">pi</span><span class="o">*</span><span class="mi">180</span>


<span class="k">def</span> <span class="nf">_slope</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="n">rv</span> <span class="o">=</span> <span class="n">tan</span><span class="p">(</span><span class="n">rad</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">rv</span>


<span class="k">def</span> <span class="nf">_asa</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">d2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return triangle having side with length l on the x-axis.&quot;&quot;&quot;</span>
    <span class="n">xy</span> <span class="o">=</span> <span class="n">Line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">slope</span><span class="o">=</span><span class="n">_slope</span><span class="p">(</span><span class="n">d1</span><span class="p">))</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
        <span class="n">Line</span><span class="p">((</span><span class="n">l</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">slope</span><span class="o">=</span><span class="n">_slope</span><span class="p">(</span><span class="mi">180</span> <span class="o">-</span> <span class="n">d2</span><span class="p">)))[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Triangle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">xy</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_sss</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">l3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return triangle having side of length l1 on the x-axis.&quot;&quot;&quot;</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">l3</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="n">l1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">l2</span><span class="p">)</span>
    <span class="n">inter</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">c1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">is_nonnegative</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inter</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="n">pt</span> <span class="o">=</span> <span class="n">inter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Triangle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pt</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_sas</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return triangle having side with length l2 on the x-axis.&quot;&quot;&quot;</span>
    <span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">l2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">p3</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">rad</span><span class="p">(</span><span class="n">d</span><span class="p">))</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">rad</span><span class="p">(</span><span class="n">d</span><span class="p">))</span><span class="o">*</span><span class="n">l1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Triangle</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/sympylogo.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">SymPy 0.7.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../sympy.html" >sympy</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013 SymPy Development Team.
      Last updated on Aug 04, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>