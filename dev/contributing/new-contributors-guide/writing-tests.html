<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Building the Documentation" href="build-docs.html" /><link rel="prev" title="Development Workflow Process" href="workflow-process.html" />
        <link rel="canonical" href="https://docs.sympy.org/latest/contributing/new-contributors-guide/writing-tests.html" />

    <link rel="shortcut icon" href="../../_static/sympy-notailtext-favicon.ico"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Writing Tests - SymPy 1.13.dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=16cf08d2" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=30c876b7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #52833A;
  --color-brand-content: #307748;
  --color-sidebar-background: #3B5526;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-link-text: #FFFFFF;
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-sidebar-link-text--top-level: #FFFFFF;
  --color-sidebar-item-background--hover: var(--color-brand-primary);
  --color-sidebar-item-expander-background--hover: var(--color-brand-primary);
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #000000bd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --color-foreground-secondary: #53555B;
  --color-admonition-title-background--seealso: #CCCCCC;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #CCCCCC;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-code-background: hsl(80deg 100% 95%);
  --code-font-size: var(--font-size--small);
  --font-stack--monospace: DejaVu Sans Mono,"SFMono-Regular",Menlo,Consolas,Monaco,Liberation Mono,Lucida Console,monospace;;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #33CB33;
  --color-brand-content: #1DBD1D;
  --color-sidebar-background: #3B5526;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-link-text: #FFFFFF;
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-sidebar-link-text--top-level: #FFFFFF;
  --color-sidebar-item-background--hover: #52833A;
  --color-sidebar-item-expander-background--hover: #52833A;
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #FFFFFFbd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --color-foreground-secondary: #9DA1AC;
  --color-admonition-title-background--seealso: #555555;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #555555;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-code-background: hsl(80deg 100% 95%);
  --code-font-size: var(--font-size--small);
  --font-stack--monospace: DejaVu Sans Mono,"SFMono-Regular",Menlo,Consolas,Monaco,Liberation Mono,Lucida Console,monospace;;
  --color-api-overall: #FFFFFF90;
  --color-api-paren: #FFFFFF90;
  --color-problematic: #B30000;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #33CB33;
  --color-brand-content: #1DBD1D;
  --color-sidebar-background: #3B5526;
  --color-sidebar-background-border: var(--color-background-primary);
  --color-sidebar-link-text: #FFFFFF;
  --color-sidebar-brand-text: var(--color-sidebar-link-text--top-level);
  --color-sidebar-link-text--top-level: #FFFFFF;
  --color-sidebar-item-background--hover: #52833A;
  --color-sidebar-item-expander-background--hover: #52833A;
  --color-link-underline--hover: var(--color-link);
  --color-api-keyword: #FFFFFFbd;
  --color-api-name: var(--color-brand-content);
  --color-api-pre-name: var(--color-brand-content);
  --api-font-size: var(--font-size--normal);
  --color-foreground-secondary: #9DA1AC;
  --color-admonition-title-background--seealso: #555555;
  --color-admonition-title--seealso: black;
  --color-admonition-title-background--note: #555555;
  --color-admonition-title--note: black;
  --color-admonition-title-background--warning: var(--color-problematic);
  --color-admonition-title--warning: white;
  --admonition-font-size: var(--font-size--normal);
  --admonition-title-font-size: var(--font-size--normal);
  --color-code-background: hsl(80deg 100% 95%);
  --code-font-size: var(--font-size--small);
  --font-stack--monospace: DejaVu Sans Mono,"SFMono-Regular",Menlo,Consolas,Monaco,Liberation Mono,Lucida Console,monospace;;
  --color-api-overall: #FFFFFF90;
  --color-api-paren: #FFFFFF90;
  --color-problematic: #B30000;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">SymPy 1.13.dev documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/sympylogo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">SymPy 1.13.dev documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../tutorials/intro-tutorial/index.html">Introductory Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Introductory Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/intro-tutorial/preliminaries.html">Preliminaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/intro-tutorial/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/intro-tutorial/gotchas.html">Gotchas</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../tutorials/intro-tutorial/features.html">SymPy Features</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of SymPy Features</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/basic_operations.html">Basic Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/printing.html">Printing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/simplification.html">Simplification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/calculus.html">Calculus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/solvers.html">Solvers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/matrices.html">Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/intro-tutorial/manipulation.html">Advanced Expression Manipulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/intro-tutorial/next.html">What’s Next</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/biomechanics/biomechanics.html">Introduction to Biomechanical Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/biomechanics/biomechanical-model-example.html">Biomechanical Model Example</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../guides/index.html">How-to Guides</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of How-to Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guides/assumptions.html">Assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/booleans.html">Symbolic and fuzzy booleans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/custom-functions.html">Writing Custom Functions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../guides/physics/index.html">Physics</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Physics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/physics/control_problems.html">Control Package Examples</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../guides/solving/index.html">Solve Equations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Solve Equations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solving-guidance.html">Solving Guidance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-equation-algebraically.html">Solve an Equation Algebraically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-system-of-equations-algebraically.html">Solve a System of Equations Algebraically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-numerically.html">Solve One or a System of Equations Numerically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-ode.html">Solve an Ordinary Differential Equation (ODE) Algebraically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/find-roots-polynomial.html">Find the Roots of a Polynomial Algebraically or Numerically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-matrix-equation.html">Solve a Matrix Equation Algebraically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/reduce-inequalities-algebraically.html">Reduce One or a System of Inequalities for a Single Variable Algebraically</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/solving/solve-diophantine-equation.html">Solve a Diophantine Equation Algebraically</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/logo.html">SymPy Logo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../citing.html">Citing SymPy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../explanation/index.html">Explanations</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Explanations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/best-practices.html">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/gotchas.html">Gotchas and Pitfalls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/solve_output.html">Solve Output by Type</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../explanation/special_topics/index.html">SymPy Special Topics</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of SymPy Special Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../explanation/special_topics/finite_diff_derivatives.html">Finite Difference Approximations to Derivatives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../explanation/special_topics/classification.html">Classification of SymPy objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/active-deprecations.html">List of active deprecations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../explanation/glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/basics/index.html">Basics</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Basics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/assumptions/index.html">Assumptions</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Assumptions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/assumptions/ask.html">Ask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/assumptions/assume.html">Assume</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/assumptions/refine.html">Refine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/assumptions/predicates.html">Predicates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/calculus/index.html">Calculus</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/combinatorics/index.html">Combinatorics</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Combinatorics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/partitions.html">Partitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/permutations.html">Permutations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/perm_groups.html">Permutation Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/polyhedron.html">Polyhedron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/prufer.html">Prufer Sequences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/subsets.html">Subsets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/graycode.html">Gray Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/named_groups.html">Named Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/galois.html">Galois Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/group_numbers.html">Number of groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/util.html">Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/group_constructs.html">Group constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/testutil.html">Test Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/tensor_can.html">Tensor Canonicalization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/fp_groups.html">Finitely Presented Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/combinatorics/pc_groups.html">Polycyclic Groups</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/functions/index.html">Functions</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/functions/elementary.html">Elementary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/functions/combinatorial.html">Combinatorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/functions/combinatorial.html#enumeration">Enumeration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/functions/special.html">Special</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/integrals/index.html">Integrals</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Integrals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/integrals/g-functions.html">Computing Integrals using Meijer G-Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/integrals/integrals.html">Integrals</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/series/index.html">Series</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Series</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/series/series.html">Series Expansions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/series/sequences.html">Sequences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/series/fourier.html">Fourier Series</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/series/formal.html">Formal Power Series</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/series/limitseq.html">Limits of Sequences</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/simplify/index.html">Simplify</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Simplify</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/simplify/simplify.html">Simplify</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/simplify/hyperexpand.html">Hypergeometric Expansion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/simplify/fu.html">Hongguang Fu’s Trigonometric Simplification</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/solvers/index.html">Solvers</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Solvers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/diophantine.html">Diophantine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/inequalities.html">Inequality Solvers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/ode.html">ODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/pde.html">PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/solvers.html">Solvers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/solvers/solveset.html">Solveset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/abc.html">abc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/algebras.html">Algebras</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/concrete.html">Concrete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/core.html">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/discrete.html">Discrete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/evalf.html">Numerical Evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/numeric-computation.html">Numeric Computation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/rewriting.html">Term Rewriting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/codegeneration/index.html">Code Generation</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Code Generation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/codegen.html">Code Generation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/logic/index.html">Logic</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Logic</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/logic.html">Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/sets.html">Sets</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/matrices/index.html">Matrices</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Matrices</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/matrices/index.html">Matrices</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Matrices</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/matrices.html">Matrices (linear algebra)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/kind.html">Matrix Kind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/dense.html">Dense Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/sparse.html">Sparse Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/sparsetools.html">Sparse Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/immutablematrices.html">Immutable Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/expressions.html">Matrix Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/matrices/normalforms.html">Matrix Normal Forms</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/tensor/index.html">Tensor</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Tensor</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/array.html">N-dim array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/array_expressions.html">N-dim array expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/indexed.html">Indexed Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/index_methods.html">Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/tensor.html">Tensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/tensor/toperators.html">Tensor Operators</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/vector/index.html">Vector</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Vector</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/intro.html">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/basics.html">Basic Implementation details</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/coordsys.html">More about Coordinate Systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/fields.html">Scalar and Vector Field Functionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/examples.html">General examples of usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/vector/vector_integration.html">Applications of Vector Integrals</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/vector/api/index.html">Vector API</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Vector API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../modules/vector/api/classes.html">Essential Classes in sympy.vector (docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/vector/api/orienterclasses.html">Orienter classes (docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/vector/api/vectorfunctions.html">Essential Functions in sympy.vector (docstrings)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/numbertheory/index.html">Number Theory</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Number Theory</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/ntheory.html">Number Theory</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/physics/index.html">Physics</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Physics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/hydrogen.html">Hydrogen Wavefunctions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/matrices.html">Matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/paulialgebra.html">Pauli Algebra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/qho_1d.html">Quantum Harmonic Oscillator in 1-D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/sho.html">Quantum Harmonic Oscillator in 3-D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/secondquant.html">Second Quantization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/wigner.html">Wigner Symbols</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/units/index.html">Unit systems</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Unit systems</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/philosophy.html">Philosophy behind unit systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/examples.html">More examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/dimensions.html">Dimensions and dimension systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/prefixes.html">Unit prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/unitsystem.html">Units and unit systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/units/quantities.html">Physical quantities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/physics/hep/index.html">High energy physics</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/vector/index.html">The Physics Vector Module</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of The Physics Vector Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/vector/vectors.html">Vector &amp; ReferenceFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/vector/kinematics.html">Vector: Kinematics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/vector/advanced.html">Potential Issues/Advanced Topics/Future Features in Physics/Vector Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/vector/fields.html">Scalar and Vector Field Functionality</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/physics/vector/api/index.html">Physics Vector API</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Physics Vector API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/vector/api/classes.html">Essential Classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/vector/api/kinematics.html">Kinematics (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/vector/api/printing.html">Printing (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/vector/api/functions.html">Essential Functions (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/vector/api/fieldfunctions.html">Docstrings for basic field functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/mechanics/index.html">Classical Mechanics</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Classical Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/masses.html">Masses, Inertias, Particles and Rigid Bodies in Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/kane.html">Kane’s Method in Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/lagrange.html">Lagrange’s Method in Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/joints.html">Joints Framework in Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/symsystem.html">Symbolic Systems in Physics/Mechanics</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/physics/mechanics/linearize.html">Linearization in Physics/Mechanics</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Linearization in Physics/Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/examples/lin_pend_nonmin_example.html">Nonminimal Coordinates Pendulum</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/physics/mechanics/examples.html">Examples for Physics/Mechanics</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Examples for Physics/Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../modules/physics/mechanics/examples/rollingdisc_example.html">A rolling disc</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of A rolling disc</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../modules/physics/mechanics/examples/rollingdisc_example_kane.html">A rolling disc, with Kane’s method</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../modules/physics/mechanics/examples/rollingdisc_example_kane_constraints.html">A rolling disc, with Kane’s method and constraint forces</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../modules/physics/mechanics/examples/rollingdisc_example_lagrange.html">A rolling disc using Lagrange’s Method</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/examples/bicycle_example.html">A bicycle</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/examples/lin_pend_nonmin_example.html">Nonminimal Coordinates Pendulum</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/examples/multi_degree_freedom_holonomic_system.html">Multi Degree of Freedom Holonomic System</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/examples/four_bar_linkage_example.html">A four bar linkage</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/advanced.html">Potential Issues/Advanced Topics/Future Features in Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/reference.html">References for Physics/Mechanics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/autolev_parser.html">Autolev Parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/mechanics/sympy_mechanics_for_autolev_users.html">SymPy Mechanics for Autolev Users</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/physics/mechanics/api/index.html">Mechanics API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of Mechanics API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/part_bod.html">Bodies, Inertias, Loads &amp; Other Functions (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/kane_lagrange.html">Kane’s Method &amp; Lagrange’s Method (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/joint.html">Joints Framework (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/system.html">System (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/linearize.html">Linearization (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/expr_manip.html">Expression Manipulation (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/printing.html">Printing (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/pathway.html">Pathway (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/actuator.html">Actuator (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/wrapping_geometry.html">Wrapping Geometry (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/mechanics/api/deprecated_classes.html">Deprecated Classes (Docstrings)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/biomechanics/index.html">Biomechanics</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of Biomechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../modules/physics/biomechanics/api/index.html">Biomechanics API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of Biomechanics API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/biomechanics/api/musculotendon.html">Musculotendon (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/biomechanics/api/activation.html">Activation (Docstrings)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../modules/physics/biomechanics/api/curve.html">Curve (Docstrings)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/quantum/index.html">Quantum Mechanics</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of Quantum Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/anticommutator.html">Anticommutator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/cg.html">Clebsch-Gordan Coefficients</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/commutator.html">Commutator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/constants.html">Constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/dagger.html">Dagger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/innerproduct.html">Inner Product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/tensorproduct.html">Tensor Product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/cartesian.html">Cartesian Operators and States</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/hilbert.html">Hilbert Space</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/operator.html">Operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/operatorset.html">Operator/State Helper Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/qapply.html">Qapply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/represent.html">Represent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/spin.html">Spin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/state.html">State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/circuitplot.html">Circuit Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/gate.html">Gates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/grover.html">Grover’s Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/qft.html">QFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/qubit.html">Qubit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/shor.html">Shor’s Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/quantum/piab.html">Particle in a Box</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/optics/index.html">Optics Module</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of Optics Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/optics/gaussopt.html">Gaussian Optics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/optics/medium.html">Medium</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/optics/polarization.html">Polarization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/optics/utils.html">Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/optics/waves.html">Waves</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/control/index.html">Control Module</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of Control Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/control/control.html">Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/control/lti.html">Control API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/control/control_plots.html">Control System Plots</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/physics/continuum_mechanics/index.html">Continuum Mechanics</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Continuum Mechanics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/continuum_mechanics/beam.html">Beam (Docstrings)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/continuum_mechanics/beam_problems.html">Solving Beam Bending Problems using Singularity Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/continuum_mechanics/truss.html">Truss (Docstrings)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/physics/continuum_mechanics/cable.html">Cable (Docstrings)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/utilities/index.html">Utilities</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of Utilities</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/testing/index.html">Testing</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of Testing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/testing/pytest.html">pytest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/testing/randtest.html">Randomised Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/testing/runtests.html">Run Tests</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/utilities/index.html">Utilities</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of Utilities</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/autowrap.html">Autowrap Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/codegen.html">Codegen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/decorator.html">Decorator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/enumerative.html">Enumerative</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/exceptions.html">Exceptions and Warnings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/iterables.html">Iterables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/lambdify.html">Lambdify</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/memoization.html">Memoization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/misc.html">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/source.html">Source Code Inspection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/utilities/timeutils.html">Timing Utilities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/interactive.html">Interactive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/parsing.html">Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/printing.html">Printing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/public/topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/geometry/index.html">Geometry</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of Geometry</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/entities.html">Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/utils.html">Utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/points.html">Points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/lines.html">Lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/curves.html">Curves</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/ellipses.html">Ellipses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/polygons.html">Polygons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/geometry/plane.html">Plane</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/holonomic/index.html">Holonomic</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of Holonomic</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/about.html">About Holonomic Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/represent.html">Representation of holonomic functions in SymPy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/operations.html">Operations on holonomic functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/convert.html">Converting other representations to holonomic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/uses.html">Uses and Current limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/holonomic/internal.html">Internal API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/liealgebras/index.html">Lie Algebra</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../modules/polys/index.html">Polynomial Manipulation</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of Polynomial Manipulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/basics.html">Basic functionality of the module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/wester.html">Examples from Wester’s Article</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/reference.html">Polynomials Manipulation Module Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/agca.html">AGCA - Algebraic Geometry and Commutative Algebra Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/domainsintro.html">Introducing the Domains of the poly module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/domainsref.html">Reference docs for the Poly Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/internals.html">Internals of the Polynomial Manipulation Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/ringseries.html">Series Manipulation using Polynomials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/literature.html">Literature</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/solvers.html">Poly solvers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/domainmatrix.html">Introducing the domainmatrix of the poly module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modules/polys/numberfields.html">Number Fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/categories.html">Category Theory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/crypto.html">Cryptography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/diffgeom.html">Differential Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/plotting.html">Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/stats.html">Stats</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Contributing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of Contributing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction-to-contributing.html">Introduction to Contributing</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Guide for New Contributors</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of Guide for New Contributors</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dev-setup.html">Setup Development Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow-process.html">Development Workflow Process</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Writing Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-docs.html">Building the Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dependencies.html">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docstring.html">Docstrings Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation-style-guide.html">Documentation Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deprecations.html">Deprecation Policy</a></li>
</ul>
</li>
</ul>

</div><!-- Versions Menu. In order to work, there should be a file called versions.json one level up from the documentation listing the "dev" and "latest" version numbers, like
{
    "latest": "1.10",
    "dev": "1.11.dev"
}
-->
<div class="sidebar-tree sidebar-versions">
  <h5 class="versions-header">Documentation Version</h4>
</div>

<!-- Make sure jquery is loaded (we would put this as a separate .js, but it uses jinja templates in some of the variables) -->
<script src="../../_static/jquery.js"></script>
<script>
  var versions_json_loc = "../../../versions.json";

  function add_version_menu(json_loc) {
      var menu = document.createElement("ul");
      var thisversion = "dev"
      $.getJSON(json_loc, function(versions) {
          for (var key in versions) {
              if (key != "latest" && key != "dev") {
                  console.error("Invalid key in versions.json", key);
              } else {
                  var version = document.createElement("li")
                  version.className = "sidebar-versions-l1 sidebar-versions-" + key + "-l1";
                  if (key == thisversion){
                      version.className += " current-version";
                  }
                  var a = document.createElement("a");
                  a.className = "reference internal";
                  a.innerHTML = "SymPy " + versions[key] + " (" + key + " version)";
                  a.title = key + " version";
                  a.href = "https://docs.sympy.org/" + key + "/contributing/new-contributors-guide/writing-tests.html";
                  version.appendChild(a);
                  menu.appendChild(version);
              }
          }
      }).done(function() {
          console.log("versions.json read successfully");
      }).fail(function() {
          var version = document.createElement("li")
          version.className = "sidebar-versions-l1 sidebar-versions-latest-l1";
          var d = document.createElement("div");
          d.className = "versions-not-found"
          d.innerHTML = "Other Versions Not Found";
          d.title = "The version selection menu is only available for the documentation published on docs.sympy.org";
          version.appendChild(d);
          menu.appendChild(version);
          console.error("Could not read versions.json");
      }).always(function() {
          $(".sidebar-versions").append(menu)
      });
  };

  $( document ).ready( add_version_menu(versions_json_loc));
</script></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/contributing/new-contributors-guide/writing-tests.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="writing-tests">
<h1>Writing Tests<a class="headerlink" href="#writing-tests" title="Link to this heading">¶</a></h1>
<p>The most important thing for a mathematical library like SymPy is correctness.
Functions should never return mathematically incorrect results. Correctness is
always the top concern, even if it comes at the cost of things like
performance or modularity.</p>
<p>Consequently, all functionality in SymPy is tested extensively. This guide
goes over how tests in SymPy are written.</p>
<section id="testing-policies">
<h2>Testing Policies<a class="headerlink" href="#testing-policies" title="Link to this heading">¶</a></h2>
<p>In order to ensure the high standard of correctness, SymPy has the following
rules that apply to all pull requests:</p>
<ol class="arabic simple">
<li><p>All new functionality must be tested. Tests should aim to cover all
possible cases to best ensure correctness. This means not only maximizing
code coverage, but also covering all possible corner cases.</p></li>
<li><p>Every pull request must pass all tests before it can be merged. The tests
are automatically run by the GitHub Actions CI on every pull request. If
any tests fail, the CI will fail with a red ❌. These failures must be
addressed before the pull request can be merged.</p></li>
<li><p>Bug fixes should be accompanied by a <a class="reference internal" href="#writing-tests-regression-tests"><span class="std std-ref">regression
test</span></a>.</p></li>
</ol>
</section>
<section id="basics-for-writing-tests">
<span id="writing-tests-basics"></span><h2>Basics for Writing Tests<a class="headerlink" href="#basics-for-writing-tests" title="Link to this heading">¶</a></h2>
<p>Tests are located alongside the code in <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directories, in files named
<code class="docutils literal notranslate"><span class="pre">test_&lt;thing&gt;.py</span></code>. In most cases, if you modified
<code class="docutils literal notranslate"><span class="pre">sympy/&lt;submodule&gt;/&lt;file&gt;.py</span></code> then the test for the functionality will go in
<code class="docutils literal notranslate"><span class="pre">sympy/&lt;submodule&gt;/tests/test_&lt;file&gt;.py</span></code>. For example, the tests for the
functions in <code class="docutils literal notranslate"><span class="pre">sympy/simplify/sqrtdenest.py</span></code> are in
<code class="docutils literal notranslate"><span class="pre">sympy/simplify/tests/test_sqrtdenest.py</span></code>. There are some exceptions to this
rule, so in general try to find where the existing tests are for a function
and add your tests alongside them. If you are adding tests for a new function,
follow the general pattern of tests in the module you are adding to.</p>
<p>Tests follow a simple pattern, which should be apparent from reading the
existing test files. Tests are in functions that start with <code class="docutils literal notranslate"><span class="pre">test_</span></code> and
contain lines like</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">function</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span> <span class="o">==</span> <span class="n">result</span>
</pre></div>
</div>
<p>For example</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># from sympy/functions/elementary/tests/test_trigonometric.py</span>

<span class="k">def</span> <span class="nf">test_cos_series</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> \
        <span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">4</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span> <span class="n">x</span><span class="o">**</span><span class="mi">6</span><span class="o">/</span><span class="mi">720</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">8</span><span class="o">/</span><span class="mi">40320</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
<p>New test cases can be added to an existing test function if it is relevant, or
you can create a new test function.</p>
</section>
<section id="running-tests">
<h2>Running Tests<a class="headerlink" href="#running-tests" title="Link to this heading">¶</a></h2>
<p>The basic way to run the tests is to use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span>
</pre></div>
</div>
<p>to run the tests, and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">doctest</span>
</pre></div>
</div>
<p>to run the doctests. Note that the full test suite can take some time to run,
so typically you should just run a subset of the tests, e.g., corresponding to
the module you modified. You can do this by passing the name of the submodules
or tests files to the test command. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span> <span class="n">solvers</span>
</pre></div>
</div>
<p>will run only the tests for the solvers.</p>
<p>If you want, you can also use <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to run the tests instead of the
<code class="docutils literal notranslate"><span class="pre">./bin/test</span></code> tool, for example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;not slow&#39;</span> <span class="n">sympy</span><span class="o">/</span><span class="n">solvers</span>
</pre></div>
</div>
<p>Another option is to just push your code up to GitHub and let the tests run on
the CI. The GitHub Actions CI will run all the tests. However, it can take
some time to finish, so it is usually advisable to run at least the basic
tests before committing to avoid having to wait.</p>
<section id="debugging-test-failures-on-github-actions">
<h3>Debugging Test Failures on GitHub Actions<a class="headerlink" href="#debugging-test-failures-on-github-actions" title="Link to this heading">¶</a></h3>
<p>When you see a test failure on CI, like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_____________________________________________________________________________________________________</span>
<span class="n">_________________</span> <span class="n">sympy</span><span class="o">/</span><span class="n">printing</span><span class="o">/</span><span class="n">pretty</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_pretty</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="n">test_upretty_sub_super</span> <span class="n">_________________</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/home/oscar/current/sympy/sympy.git/sympy/printing/pretty/tests/test_pretty.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">317</span><span class="p">,</span> <span class="ow">in</span> <span class="n">test_upretty_sub_super</span>
    <span class="k">assert</span> <span class="n">upretty</span><span class="p">(</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;beta_1_2&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;β₁₂&#39;</span>
<span class="ne">AssertionError</span>
</pre></div>
</div>
<p>The bit in between <code class="docutils literal notranslate"><span class="pre">_________________</span></code> is the name of the test. You can
reproduce the test locally by copying and pasting this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span> <span class="n">sympy</span><span class="o">/</span><span class="n">printing</span><span class="o">/</span><span class="n">pretty</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_pretty</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_upretty_sub_super</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">sympy</span><span class="o">/</span><span class="n">printing</span><span class="o">/</span><span class="n">pretty</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_pretty</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_upretty_sub_super</span>
</pre></div>
</div>
<p>The test also shows the file and line number (in this example, 317 in
<code class="docutils literal notranslate"><span class="pre">sympy/printing/pretty/tests/test_pretty.py</span></code>) of the assertion that fails, so
you can look it up to see what the test is testing.</p>
<p>Sometimes when you do this, you will not be able to reproduce the test failure
locally. Some common causes of this are:</p>
<ul class="simple">
<li><p>You may need to merge the latest <code class="docutils literal notranslate"><span class="pre">master</span></code> into your branch to reproduce the
failure (GitHub Actions will always merge your branch with the latest
<code class="docutils literal notranslate"><span class="pre">master</span></code> before running the tests).</p></li>
<li><p>Something about the CI testing environment may be different from yours (this
is especially likely for tests that depend on <a class="reference internal" href="../dependencies.html#optional-dependencies"><span class="std std-ref">optional
dependencies</span></a>. Check which versions of relevant
packages are installed at the top of the CI log.</p></li>
<li><p>It’s possible that some other test that ran prior to yours may have somehow
influenced your test. SymPy is not supposed to have global state, but
sometimes some state can sneak in on accident. The only way to check this is
to run the exact same test command that was run on CI.</p></li>
<li><p>A test may fail sporadically. Try rerunning the test multiple times. The
beginning of the test log on CI prints the random seed, which can be passed
to <code class="docutils literal notranslate"><span class="pre">./bin/test</span> <span class="pre">--seed</span></code>, and the <code class="docutils literal notranslate"><span class="pre">PYTHONHASHSEED</span></code> environment variable, which
may be helpful for reproducing such failures.</p></li>
</ul>
<p>It is also sometimes possible that a failure on CI may be unrelated to your
branch. We only merge branches that have passing CI, so that master always
ideally has passing tests. But sometimes a failure can slip in. Typically this
is either because the failure is sporadic (see the previous bullet), and it
wasn’t noticed, or because some <a class="reference internal" href="../dependencies.html#optional-dependencies"><span class="std std-ref">optional dependency</span></a>
was updated which broken an optional dependency test. If a test failure seems
like it is unrelated to your change, check if the <a class="reference external" href="https://github.com/sympy/sympy/actions?query=branch%3Amaster">CI builds for
master</a> and if
CI builds on other recent PRs have the same failure. If they do, this is
likely the case. If they don’t, you should check more carefully if your change
is causing the failure, even if it seems unrelated.</p>
<p>When there is a CI failure in the master branch, be aware that your pull
request cannot be merged until it is fixed. This is not required, but if you
know how to fix it, please do this to help everyone (if you do this, do it in
a separate pull request so that it can be merged expeditiously).</p>
</section>
</section>
<section id="regression-tests">
<span id="writing-tests-regression-tests"></span><h2>Regression Tests<a class="headerlink" href="#regression-tests" title="Link to this heading">¶</a></h2>
<p>Regression tests are tests that would fail before a bug fix but now pass.
Often you can use a code example from an issue as a test case, although it is
also OK to simplify such examples or to write your own, so long as it tests
the issue in question.</p>
<p>For example, consider <a class="reference external" href="https://github.com/sympy/sympy/issues/21177">issue
#21177</a>, which identified the
following wrong result:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">residue</span><span class="p">(</span><span class="n">cot</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> 
<span class="go">-sqrt(3)*tanh(sqrt(3)*pi/2)/3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">residue</span><span class="p">(</span><span class="n">cot</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> 
<span class="go">0</span>
</pre></div>
</div>
<p>Here the first expression was correct but the second was not. In the issue,
the cause of the issue was identified in the <code class="docutils literal notranslate"><span class="pre">as_leading_term</span></code> method, and
several other related issues were also found.</p>
<p>In the corresponding pull request
(<a class="reference external" href="https://github.com/sympy/sympy/pull/21253/files">#21253</a>), several
regression tests were added. For example (from that PR):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># In sympy/functions/elementary/tests/test_trigonometric.py</span>

<span class="k">def</span> <span class="nf">test_tan</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="c1"># &lt;This test was already existing. The following was added to the end&gt;</span>

    <span class="c1"># https://github.com/sympy/sympy/issues/21177</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">tan</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">as_leading_term</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># In sympy/core/tests/test_expr.py</span>

<span class="k">def</span> <span class="nf">test_as_leading_term</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="c1"># &lt;This test was already existing. The following was added to the end&gt;</span>

    <span class="c1"># https://github.com/sympy/sympy/issues/21177</span>
    <span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">Rational</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">ImaginaryUnit</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>\
        <span class="o">-</span> <span class="n">Rational</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">ImaginaryUnit</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">as_leading_term</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">ImaginaryUnit</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">S</span><span class="o">.</span><span class="n">ImaginaryUnit</span><span class="p">)</span>

    <span class="c1"># https://github.com/sympy/sympy/issues/21245</span>
    <span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">fi</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">fi</span><span class="p">)</span><span class="o">.</span><span class="n">as_leading_term</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">(</span><span class="o">-</span><span class="mi">36</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mi">80</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">36</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># In sympy/series/tests/test_residues.py</span>

<span class="k">def</span> <span class="nf">test_issue_21177</span><span class="p">():</span>
    <span class="n">r</span> <span class="o">=</span> <span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">tanh</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">residue</span><span class="p">(</span><span class="n">cot</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">residue</span><span class="p">(</span><span class="n">cot</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">a</span> <span class="o">==</span> <span class="n">r</span>
    <span class="k">assert</span> <span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p>This example shows some important aspects of regression tests:</p>
<ul class="simple">
<li><p>Tests should be added for the underlying fix, not just the originally
reported issue. The originally reported issue in this example was with the <code class="docutils literal notranslate"><span class="pre">residue()</span></code>
function but the underlying issue was with the <code class="docutils literal notranslate"><span class="pre">as_leading_term()</span></code> method.</p></li>
<li><p>At the same time, it can also be beneficial to add a test for the high-level
issue as reported. This ensures that <code class="docutils literal notranslate"><span class="pre">residue</span></code> itself won’t break in the
future, even if the implementation details of it change so that it no longer
uses the same code path that was fixed.</p></li>
<li><p>This example does not show it, but in some cases it may be prudent to
simplify the originally reported issue for the test case. For example,
sometimes users will include unnecessary details in the report that don’t
actually matter for the reproduction of the issue (like unnecessary
assumptions on symbols), or make the input expression too large or have too
many unnecessary constant symbols. This is especially important to do if the
code from the originally stated issue is slow to compute. If the same thing
can be tested with a test that runs more quickly, this should be preferred.</p></li>
<li><p>Regression tests should also be added for additional bugs that are
identified in the issue. In this example, the second test (the test added to
<code class="docutils literal notranslate"><span class="pre">test_as_leading_term()</span></code>) was identified as a related problem in a <a class="reference external" href="https://github.com/sympy/sympy/issues/21177#issuecomment-812816346">comment
on the
issue</a>.</p></li>
<li><p>It is useful to cross-reference the issue number in a regression test,
either using a comment or in the test name. A comment is preferred if the
test is being added to an existing test.</p></li>
</ul>
<p>Regression tests aren’t just for bug fixes. They should also be used for new
features, to make sure the newly implemented functionality remains implemented
and correct.</p>
</section>
<section id="special-types-of-tests">
<h2>Special Types of Tests<a class="headerlink" href="#special-types-of-tests" title="Link to this heading">¶</a></h2>
<p>Most tests will be of the form <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">function(input)</span> <span class="pre">==</span> <span class="pre">output</span></code>. However,
there are other types of things that you might want to test that should be
tested in certain ways.</p>
<section id="testing-exceptions">
<h3>Testing Exceptions<a class="headerlink" href="#testing-exceptions" title="Link to this heading">¶</a></h3>
<p>To test that a function raises a given exception, use
<code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.raises</span></code>. <code class="docutils literal notranslate"><span class="pre">raises()</span></code> takes an exception class and a
lambda. For example</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.testing.pytest.raises</span>
<span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Remember to include the <code class="docutils literal notranslate"><span class="pre">lambda</span></code>. Otherwise, the code will be executed
immediately and will raise the exception, causing the test to fail.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="c1"># This test will fail</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">raises</span></code> can also be used as a context manager, like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
    <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>However, be careful using this form, as it can only check one expression at a
time. If the code under context manager raises multiple exceptions, only the
first one will actually be tested</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
   <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
   <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># THIS WILL NEVER BE TESTED</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">lambda</span></code> form is generally better because it avoids this problem, although
if you are testing something that cannot be represented in a <code class="docutils literal notranslate"><span class="pre">lambda</span></code> you will
need to use the context manager form.</p>
</section>
<section id="testing-warnings">
<span id="writing-tests-testing-warnings"></span><h3>Testing Warnings<a class="headerlink" href="#testing-warnings" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://docs.python.org/3/library/warnings.html">Warnings</a> can be tested with
the <a class="reference internal" href="../../modules/testing/pytest.html#sympy.testing.pytest.warns" title="sympy.testing.pytest.warns"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.warns()</span></code></span></a> context manager. Note that
<code class="docutils literal notranslate"><span class="pre">SymPyDeprecationWarning</span></code> is special and should be tested with
<code class="docutils literal notranslate"><span class="pre">warns_deprecated_sympy()</span></code> instead (see
<a class="reference internal" href="#writing-tests-test-deprecated-functionality"><span class="std std-ref">below</span></a>).</p>
<p>The context manager should take a warning class (<code class="docutils literal notranslate"><span class="pre">warnings.warn()</span></code> uses
<code class="docutils literal notranslate"><span class="pre">UserWarning</span></code> by default), and, optionally, a regular expression that the
warning message should match as the <code class="docutils literal notranslate"><span class="pre">match</span></code> keyword argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.testing.pytest</span> <span class="kn">import</span> <span class="n">warns</span>
<span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">):</span>
    <span class="n">function_that_emits_a_warning</span><span class="p">()</span>

<span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;warning&#39;</span><span class="p">):</span>
    <span class="n">function_that_emits_a_warning</span><span class="p">()</span>

</pre></div>
</div>
<p><strong>Any test functionality that emits a warning should use <code class="docutils literal notranslate"><span class="pre">warns()</span></code>.</strong> That
way, no warnings are actually emitted during the tests themselves. This
includes warnings coming from external libraries.</p>
<p>Warnings within SymPy itself should be used very sparingly. Aside from
<a class="reference internal" href="../deprecations.html#deprecation-policy"><span class="std std-ref">deprecation warnings</span></a>, warnings are generally not used in
SymPy, as they may be too annoying for users, especially those who use SymPy
as a library, to be warranted.</p>
<p>When you do use them, you must set the <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> parameter in the warning
so that it shows the user code that called the function that emitted the
warning. If the <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> parameter is impossible to set correctly, use
<code class="docutils literal notranslate"><span class="pre">warns(test_stacklevel=False)</span></code> to disable the check in <code class="docutils literal notranslate"><span class="pre">warns</span></code> that
<code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> is used properly. <code class="docutils literal notranslate"><span class="pre">warns(SymPyDeprecationWarning,</span> <span class="pre">test_stacklevel=False)</span></code> must be used in place of <code class="docutils literal notranslate"><span class="pre">warns_deprecated_sympy()</span></code> if
this applies to a <code class="docutils literal notranslate"><span class="pre">SymPyDeprecationWarning</span></code></p>
</section>
<section id="test-deprecated-functionality">
<span id="writing-tests-test-deprecated-functionality"></span><h3>Test Deprecated Functionality<a class="headerlink" href="#test-deprecated-functionality" title="Link to this heading">¶</a></h3>
<p>Deprecated functionality should be tested with the
<a class="reference internal" href="../../modules/testing/pytest.html#sympy.testing.pytest.warns_deprecated_sympy" title="sympy.testing.pytest.warns_deprecated_sympy"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.warns_deprecated_sympy()</span></code></span></a>
context manager.</p>
<p>The only purpose of this context manager is to test that the deprecation
warning itself is functioning correctly. This should be the only place in the
test suite where deprecated functionality is called. All other tests should
use non-deprecated functionality. If it is impossible to avoid deprecated
functionality, this may be a sign that the functionality should not actually
be deprecated.</p>
<p>The <a class="reference internal" href="../deprecations.html#deprecation-policy"><span class="std std-ref">deprecation policy</span></a> page goes into detail about how
to add a deprecation to a function.</p>
<p>For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.testing.pytest</span> <span class="kn">import</span> <span class="n">warns_deprecated_sympy</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># expr_free_symbols is deprecated</span>
<span class="k">def</span> <span class="nf">test_deprecated_expr_free_symbols</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">warns_deprecated_sympy</span><span class="p">():</span>
        <span class="k">assert</span> <span class="n">x</span><span class="o">.</span><span class="n">expr_free_symbols</span> <span class="o">==</span> <span class="p">{</span><span class="n">x</span><span class="p">}</span>
</pre></div>
</div>
<p>If code is using deprecated functionality from another library, this code
should be updated. Until then, the normal
<a class="reference internal" href="#writing-tests-testing-warnings"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">warns()</span></code></span></a> context manager should be used in
the corresponding tests to prevent the warning from being emitted.</p>
</section>
<section id="testing-that-something-is-unchanged">
<h3>Testing that Something is Unchanged<a class="headerlink" href="#testing-that-something-is-unchanged" title="Link to this heading">¶</a></h3>
<p>The normal test style of</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">function</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span> <span class="o">==</span> <span class="n">output</span>
</pre></div>
</div>
<p>works for most types of tests. However, it doesn’t work in the case where a
SymPy object should remain unchanged. Consider the following example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">sin</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">assert</span> <span class="n">sin</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The first two tests here are fine. The test that <code class="docutils literal notranslate"><span class="pre">sin</span></code> returns the
corresponding special value for the inputs <code class="docutils literal notranslate"><span class="pre">pi</span></code> and <code class="docutils literal notranslate"><span class="pre">pi/2</span></code>. However, the last
test nominally checks that <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code> doesn’t return anything. But upon closer
inspection, we see that it doesn’t do that at all. <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code> could in fact
return anything. It could return complete nonsense or even a wrong answer like
<code class="docutils literal notranslate"><span class="pre">0</span></code>. The test would still pass, because all it is doing is checking that the
result of <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code> equals the result of <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code>, which it always will so long
as it always returns the same thing.</p>
<p>We really want to check that <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code> remains unevaluated. The
<code class="docutils literal notranslate"><span class="pre">sympy.core.expr.unchanged</span></code> helper will do this.</p>
<p>Use it like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.core.expr</span> <span class="kn">import</span> <span class="n">unchanged</span>

<span class="k">def</span> <span class="nf">test_sin_1_unevaluated</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">unchanged</span><span class="p">(</span><span class="n">sin</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This test now actually checks the correct thing. If <code class="docutils literal notranslate"><span class="pre">sin(1)</span></code> were made to
return some value, the test would fail.</p>
</section>
<section id="testing-expressions-with-dummy">
<h3>Testing Expressions with <a class="reference internal" href="../../modules/core.html#sympy.core.symbol.Dummy" title="sympy.core.symbol.Dummy"><span class="xref myst py py-class"><code class="docutils literal notranslate"><span class="pre">Dummy</span></code></span></a><a class="headerlink" href="#testing-expressions-with-dummy" title="Link to this heading">¶</a></h3>
<p>Expressions that return <a class="reference internal" href="../../modules/core.html#sympy.core.symbol.Dummy" title="sympy.core.symbol.Dummy"><span class="xref myst py py-class"><code class="docutils literal notranslate"><span class="pre">Dummy</span></code></span></a> cannot be tested
with <code class="docutils literal notranslate"><span class="pre">==</span></code> directly, due to the nature of <code class="docutils literal notranslate"><span class="pre">Dummy</span></code>. In such cases, use the
<a class="reference internal" href="../../modules/core.html#sympy.core.basic.Basic.dummy_eq" title="sympy.core.basic.Basic.dummy_eq"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">dummy_eq()</span></code></span></a> method. For example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># from</span>
<span class="n">sympy</span><span class="o">/</span><span class="n">functions</span><span class="o">/</span><span class="n">combinatorial</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_comb_factorials</span><span class="o">.</span><span class="n">py</span>

<span class="k">def</span> <span class="nf">test_factorial_rewrite</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">rewrite</span><span class="p">(</span><span class="n">gamma</span><span class="p">)</span> <span class="o">==</span> <span class="n">gamma</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">_i</span> <span class="o">=</span> <span class="n">Dummy</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">rewrite</span><span class="p">(</span><span class="n">Product</span><span class="p">)</span><span class="o">.</span><span class="n">dummy_eq</span><span class="p">(</span><span class="n">Product</span><span class="p">(</span><span class="n">_i</span><span class="p">,</span> <span class="p">(</span><span class="n">_i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">)))</span>
    <span class="k">assert</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">rewrite</span><span class="p">(</span><span class="n">Product</span><span class="p">)</span> <span class="o">==</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="consistency-checks">
<h3>Consistency Checks<a class="headerlink" href="#consistency-checks" title="Link to this heading">¶</a></h3>
<p>Checking a set of known inputs and outputs can only get you so far. A test
like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">function</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span> <span class="o">==</span> <span class="n">expression</span>
</pre></div>
</div>
<p>will check that <code class="docutils literal notranslate"><span class="pre">function(input)</span></code> returns <code class="docutils literal notranslate"><span class="pre">expression</span></code>, but it doesn’t check
that <code class="docutils literal notranslate"><span class="pre">expression</span></code> itself is actually mathematically correct.</p>
<p>However, depending on what <code class="docutils literal notranslate"><span class="pre">function</span></code> is, sometimes a consistency check can be
done to check that <code class="docutils literal notranslate"><span class="pre">expression</span></code> itself is correct. This typically boils down
to “computing <code class="docutils literal notranslate"><span class="pre">expression</span></code> in two different ways”. If both ways agree, there
is a pretty high chance it is correct, as it is unlikely that two completely
different methods will produce the same wrong answer.</p>
<p>For example, the inverse of indefinite integration is differentiation. The
tests for integrals can be checked for consistency by seeing if the derivative
of the result produces the original integrand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expr</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">==</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>

<span class="c1"># The test for integrate()</span>
<span class="k">assert</span> <span class="n">integrate</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
<span class="c1"># The consistency check that the test itself is correct</span>
<span class="k">assert</span> <span class="n">diff</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">expr</span>
</pre></div>
</div>
<p>The implementation for <code class="docutils literal notranslate"><span class="pre">diff</span></code> is very simple compared to <code class="docutils literal notranslate"><span class="pre">integrate</span></code>, and it
is tested separately, so this confirms the answer is correct.</p>
<p>Of course, one could also just confirm the answer by hand, and this is what
most tests in SymPy do. But a consistency check does not hurt, especially when
it is easy to do.</p>
<p>The use of consistency checks in the SymPy test suite is not, itself,
consistent. Some modules make heavy use of them, e.g., every test in the ODE
module checks itself using <a class="reference internal" href="../../modules/solvers/ode.html#sympy.solvers.ode.checkodesol" title="sympy.solvers.ode.checkodesol"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">checkodesol()</span></code></span></a>,
for instance. Other modules do not use consistency checks in their tests at
all, although some of these could be updated to do so. In some cases, there
are no reasonable consistency checks and other sources of truth must be used
to verify the test outputs.</p>
<p>When making heavy use of consistency checks, it’s often a good idea to factor
out the logic into a helper function in the test file to avoid duplication.
Helper functions should start with an underscore so they aren’t mistaken for
test functions by the test runner.</p>
</section>
<section id="random-tests">
<h3>Random Tests<a class="headerlink" href="#random-tests" title="Link to this heading">¶</a></h3>
<p>Another way that tests can check themselves for consistency is to check the
expressions on random numerical inputs. The helper functions in
<code class="docutils literal notranslate"><span class="pre">sympy.core.random</span></code> can be used for this. See the tests in
<code class="docutils literal notranslate"><span class="pre">sympy/functions/special/</span></code> which make heavy use of this functionality.</p>
<p>If you add a random test, be sure to run the test multiple times to ensure
that it always passes. Random tests can be reproduced by using the random seed
printed at the top of the tests. For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$./bin/test
========================================================================== test process starts ==========================================================================
executable:         /Users/aaronmeurer/anaconda3/bin/python  (3.9.13-final-0) [CPython]
architecture:       64-bit
cache:              yes
ground types:       gmpy 2.1.2
numpy:              1.22.4
random seed:        7357232
hash randomization: on (PYTHONHASHSEED=3923913114)
</pre></div>
</div>
<p>Here the random seed is <code class="docutils literal notranslate"><span class="pre">7357232</span></code>. It can be reproduced with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span> <span class="o">--</span><span class="n">seed</span> <span class="mi">7357232</span>
</pre></div>
</div>
<p>In general you may need to use the same Python version and architecture as
shown in the test header to reproduce a random test failure. You may also in
some situations, need to run the tests using the exact same input
arguments (i.e., running the full test suite or running only a subset) in
order to reproduce a test that fails randomly.</p>
</section>
<section id="skipping-tests">
<span id="writing-tests-skip"></span><h3>Skipping Tests<a class="headerlink" href="#skipping-tests" title="Link to this heading">¶</a></h3>
<p>Tests can be skipped using the <code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.SKIP</span></code> decorator or using
the <code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.skip()</span></code> function. Note that tests that are skipped
because they are expected to fail should use the <code class="docutils literal notranslate"><span class="pre">&#64;XFAIL</span></code> decorator instead
(see <a class="reference internal" href="#writing-tests-xfail"><span class="std std-ref">below</span></a>). Test that are skipped because they are
too slow should use the <a class="reference internal" href="#writing-tests-slow"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&#64;slow</span></code> decorator instead</span></a>.</p>
<p>Tests that are skipped unconditionally should be avoided. Such a test is
almost completely useless, as it will never be actually run. The only reason
to skip a test unconditionally is if it would otherwise be <code class="docutils literal notranslate"><span class="pre">&#64;XFAIL</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;slow</span></code>
but cannot use one of those decorators for some reason.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">&#64;SKIP()</span></code> and <code class="docutils literal notranslate"><span class="pre">skip()</span></code> should include a message that explains why the
test is being skipped, like <code class="docutils literal notranslate"><span class="pre">skip('numpy</span> <span class="pre">not</span> <span class="pre">installed')</span></code>.</p>
<p>The typical usage of skipping a test is when a test depends on an <a class="reference internal" href="../dependencies.html#optional-dependencies"><span class="std std-ref">optional
dependency</span></a>.</p>
<p>Such tests are generally written like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.external</span> <span class="kn">import</span> <span class="n">import_module</span>

<span class="c1"># numpy will be None if NumPy is not installed</span>
<span class="n">numpy</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="s1">&#39;numpy&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_func</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">numpy</span><span class="p">:</span>
       <span class="n">skip</span><span class="p">(</span><span class="s1">&#39;numpy is not installed&#39;</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">func</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="o">==</span> <span class="o">...</span>
</pre></div>
</div>
<p>When the test is written in this way, the test will not fail when NumPy is not
installed, which is important since NumPy is not a hard dependency of SymPy.
See also <a class="reference internal" href="#writing-tests-external-dependencies"><span class="std std-ref">Writing Tests with External Dependencies</span></a> below.</p>
</section>
<section id="marking-tests-as-expected-to-fail">
<span id="writing-tests-xfail"></span><h3>Marking Tests as Expected to Fail<a class="headerlink" href="#marking-tests-as-expected-to-fail" title="Link to this heading">¶</a></h3>
<p>Some tests in SymPy are expected to fail. They are written so that when the
functionality the check is finally implemented, a test is already written for
it.</p>
<p>Tests that are expected to fail are called XFAIL tests. They show up as <code class="docutils literal notranslate"><span class="pre">f</span></code>
in the test runner when they fail as expected and <code class="docutils literal notranslate"><span class="pre">X</span></code> when they pass (or
“XPASS”). A test that XPASSes should have its <code class="docutils literal notranslate"><span class="pre">&#64;XFAIL</span></code> decorator removed so
that it becomes a normal test.</p>
<p>To XFAIL a test, add the <code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.XFAIL</span></code> decorator to it</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.testing.pytest</span> <span class="kn">import</span> <span class="n">XFAIL</span>

<span class="nd">@XFAIL</span>
<span class="k">def</span> <span class="nf">test_failing_integral</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">integrate</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">atanh</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Care should be taken when writing an XFAIL test so that it actually passes
when the functionality starts working. If you mistype the output, for
example, the test may never pass. For example, the integral in the above test
might start working, but return a result in a slightly different form than the
one being checked. A more robust test would be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sympy.testing.pytest</span> <span class="kn">import</span> <span class="n">XFAIL</span>

<span class="nd">@XFAIL</span>
<span class="k">def</span> <span class="nf">test_failing_integral</span><span class="p">():</span>
    <span class="c1"># Should be x*sqrt(x**2 + x**(-2))*(sqrt(x**4 + 1) - atanh(sqrt(x**4 + 1)))/(2*sqrt(x**4 + 1))</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">integrate</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">Integral</span><span class="p">)</span>
</pre></div>
</div>
<p>This will cause the test to XPASS once the integral starts working, at which
time the test can be updated with the actual output of <code class="docutils literal notranslate"><span class="pre">integrate()</span></code> (which
can be compared against the expected output).</p>
</section>
<section id="marking-tests-as-slow">
<span id="writing-tests-slow"></span><h3>Marking Tests as Slow<a class="headerlink" href="#marking-tests-as-slow" title="Link to this heading">¶</a></h3>
<p>A test that is slow to run should be marked with the <code class="docutils literal notranslate"><span class="pre">&#64;slow</span></code> decorator from
<code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.slow</span></code>. The <code class="docutils literal notranslate"><span class="pre">&#64;slow</span></code> decorator should be used for tests
that take more than a minute to run. Tests that hang should use <code class="docutils literal notranslate"><span class="pre">&#64;SKIP</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">&#64;slow</span></code>. The slow tests will be run automatically in a separate CI
job, but are skipped by default. You can manually run the slow tests with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span> <span class="o">--</span><span class="n">slow</span>
</pre></div>
</div>
</section>
<section id="writing-tests-with-external-dependencies">
<span id="writing-tests-external-dependencies"></span><h3>Writing Tests with External Dependencies<a class="headerlink" href="#writing-tests-with-external-dependencies" title="Link to this heading">¶</a></h3>
<p>When writing a test for a function that uses one of SymPy’s <a class="reference internal" href="../dependencies.html#optional-dependencies"><span class="std std-ref">optional
dependencies</span></a>, the test should be written in a way that
makes it so that the test does not fail when the module is not installed.</p>
<p>The way to do this is to use <code class="docutils literal notranslate"><span class="pre">sympy.external.import_module()</span></code>.
This will import the module if it is installed and return <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
<p><code class="docutils literal notranslate"><span class="pre">sympy.testing.pytest.skip</span></code> should be used to skip tests when the module in
question is not installed (see <a class="reference internal" href="#writing-tests-skip"><span class="std std-ref">Skipping Tests</span></a> above). This can be done
at the module level if the entire test file should be skippped, or in each
individual function.</p>
<p>You should also make sure the test is run in the “Optional Dependencies” CI
run. To do this, edit <code class="docutils literal notranslate"><span class="pre">bin/test_optional_dependencies.py</span></code> and make sure the
test is included (most SymPy submodules that test optional dependencies are
already included automatically).</p>
<p>If the optional dependency is new, add it to the list of packages that are
installed in the optional dependencies build in
<code class="docutils literal notranslate"><span class="pre">.github/workflows/runtests.yml</span></code>, and add it to the optional dependencies
document at <code class="docutils literal notranslate"><span class="pre">doc/src/contributing/dependencies.md</span></code>.</p>
<p>Note that it is not necessary to do any of this when using <code class="docutils literal notranslate"><span class="pre">mpmath</span></code>, as it is
already a <a class="reference internal" href="../dependencies.html#hard-dependencies"><span class="std std-ref">hard dependency</span></a> of SymPy and will always be
installed.</p>
</section>
</section>
<section id="doctests">
<span id="writing-tests-doctests"></span><h2>Doctests<a class="headerlink" href="#doctests" title="Link to this heading">¶</a></h2>
<p>Every public function should have a docstring, and every docstring should have
a examples. Code examples are all tested, which is why they are also sometimes
called <em>doctests</em>. The <a class="reference internal" href="../docstring.html#style-guide-docstring-examples-section"><span class="std std-ref">docstring style
guide</span></a> has more details on how to
format examples in docstrings.</p>
<p>To run the doctests, use the</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">doctest</span>
</pre></div>
</div>
<p>command. This command can also take arguments to test a specific file or
submodule, similar to <code class="docutils literal notranslate"><span class="pre">bin/test</span></code>.</p>
<p>Doctests should be written in a self-contained manner, with each doctest
acting like a fresh Python session. This means that each doctest must manually
import each function used in the doctest and define the symbols used. This may
seem verbose, but it is helpful to users who are new to SymPy or even to
Python who may not know where different functions come from. It also makes it
easy for a user to copy and paste an example into a Python session of their
own (the HTML documentation includes a button in the top right of every code
example that copies the whole example to the clipboard).</p>
<p>For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Function</span><span class="p">,</span> <span class="n">dsolve</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dsolve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
<span class="gp">... </span>       <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">hint</span><span class="o">=</span><span class="s1">&#39;1st_exact&#39;</span><span class="p">)</span>
<span class="go">Eq(x*cos(f(x)) + f(x)**3/3, C1)</span>
</pre></div>
</div>
<p>The doctest output should look exactly as it would in a <code class="docutils literal notranslate"><span class="pre">python</span></code> session, with
<code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> before the inputs and the outputs after. The doctester tests that the
output string matches, unlike normal tests which typically check that the
Python objects are the same with <code class="docutils literal notranslate"><span class="pre">==</span></code>. Consequently, the output needs to look
<em>exactly</em> the same as it does in a Python session.</p>
<p>Like tests, all doctests must pass for a change to be accepted. However, when
writing doctests, it is important to remember that <strong>doctests should not be
thought of as tests. Rather, they are examples that happen to be tested.</strong></p>
<p>Therefore, you should always think about what will make a good, readable
example when writing doctests. Doctests do not need to extensively cover all
possible inputs, and should not include corner or extreme cases unless they
are important for users to be aware of.</p>
<p>Everything that is tested in a doctest should also be tested in a <a class="reference internal" href="#writing-tests-basics"><span class="std std-ref">normal
test</span></a>. You should always be free to remove or change a
doctest example at any time if it improves the documentation (to contrast, a
normal test should never be changed or removed, except in <a class="reference internal" href="#writing-tests-updating-existing-tests"><span class="std std-ref">certain exceptional
situations</span></a>).</p>
<p>This also means that doctests should be written first and foremost in a way
that makes them understandable by someone reading the documentation. It can
sometimes be tempting to write a doctest in some indirect way to please the
doctester, but this should be avoided if it makes the example harder to
understand. For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">trigsimp</span><span class="p">,</span> <span class="n">symbols</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">trigsimp</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="kc">True</span>
</pre></div>
</div>
<p>This passes the doctest, and something along these lines would be fine a
normal test. But in a docstring example, it is much clearer to just show the
actual output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># BETTER</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">trigsimp</span><span class="p">,</span> <span class="n">symbols</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">trigsimp</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
<p>Of course, in some situations, the full output is unwieldy and showing it
would make the example harder to read, so this sort of thing may be
appropriate. Use your best judgment, keeping in mind that the
understandability of the doctest as a <em>documentation example</em> is the most
important thing. In some extreme instances, it may be preferable to just skip
testing an example (see <a class="reference internal" href="#writing-tests-doctest-skip"><span class="std std-ref">below</span></a>) rather than
writing it in a convoluted way that is difficult to read just to please the
doctester.</p>
<p>Here are some additional tips for writing doctests:</p>
<ul>
<li><p>Long input lines can be broken into multiple lines by using <code class="docutils literal notranslate"><span class="pre">...</span></code> as a
continuation prompt, as in the example above. The doctest runner also allows
long outputs to be line wrapped (it ignores newlines in the output).</p></li>
<li><p>Common symbol names can be imported from <code class="docutils literal notranslate"><span class="pre">sympy.abc</span></code>. Uncommon symbol names
or symbols that use assumptions should be defined using <code class="docutils literal notranslate"><span class="pre">symbols</span></code>.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">x + y</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">sqrt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;a b&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">((</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="go">a + b</span>
</pre></div>
</div>
</li>
<li><p>If a test shows a traceback, everything between <code class="docutils literal notranslate"><span class="pre">Traceback</span> <span class="pre">(most</span> <span class="pre">recent</span> <span class="pre">call</span> <span class="pre">last):</span></code> and the last line with the exception message should be replaced with
<code class="docutils literal notranslate"><span class="pre">...</span></code>, like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Integer</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">invalid literal for int() with base 10: &#39;a&#39;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">...</span></code> is special in that whenever it appears in the output of an example,
the doctester will allow it to replace any amount of text. It should also be
used in instances where the exact output differs between runs, like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">simplify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simplify</span>
<span class="go">&lt;function simplify at ...&gt;</span>
</pre></div>
</div>
<p>Here the actual output is something like <code class="docutils literal notranslate"><span class="pre">&lt;function</span> <span class="pre">simplify</span> <span class="pre">at</span> <span class="pre">0x10e997790&gt;</span></code> but the <code class="docutils literal notranslate"><span class="pre">0x10e997790</span></code> is a memory address which will differ
with every Python session.</p>
<p><code class="docutils literal notranslate"><span class="pre">...</span></code> in outputs should be used sparingly, as it prevents the doctest from
actually checking that part of the output. It also may not be clear to the
reader of the documentation what it is meant. Note that it’s fine if the
output of a doctest is updated to something else in the future. <code class="docutils literal notranslate"><span class="pre">...</span></code> should
not be used in an attempt to “future-proof” doctest output. Also note that
the doctester already automatically handles things like whitespace-only
differences in the output and floating-point values.</p>
</li>
<li><p>You can line break output lines. The doctester automatically ignores
whitespace-only differences in the output, which includes newlines. Long
lines should be broken so that they do not extend beyond the page in the
HTML documentation (and so that the source code does not have lines longer
than 80 characters). For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x**10 + 10*x**9 + 45*x**8 + 120*x**7 + 210*x**6 + 252*x**5 + 210*x**4 +</span>
<span class="go">120*x**3 + 45*x**2 + 10*x + 1</span>
</pre></div>
</div>
</li>
</ul>
<ul id="writing-tests-doctest-skip">
<li><p>Another option if a doctest cannot pass is to skip it, by adding <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:+SKIP</span></code> to the end of the input line, like</p>
<!-- We have to trick it into not removing # doctest:+SKIP in this example -->
<pre class="highlight">
>>> import random
>>> random.random()      # doctest: +SKIP
0.6868680200532414
</pre>
<p>The <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:+SKIP</span></code> part will be automatically hidden in the HTML
documentation. When skipping a doctest, always be sure to test the output
manually, as the doctester will not check it for you.</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:+SKIP</span></code> should be used sparingly. Ideally a doctest should only be
skipped when it is impossible to run it. A doctest that is skipped will
never be tested, meaning it may become outdated (i.e., incorrect), which
will be confusing to users.</p>
</li>
<li><p>Doctests that require a dependency to run should not be skipped with <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIP</span></code>. Instead, use the
<a class="reference internal" href="../../modules/utilities/decorator.html#sympy.utilities.decorator.doctest_depends_on" title="sympy.utilities.decorator.doctest_depends_on"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">&#64;doctest_depends_on</span></code></span></a> decorator on the function to
indicate which libraries should be installed for the doctest to run.</p></li>
<li><p>If the test output includes a blank line, use <code class="docutils literal notranslate"><span class="pre">&lt;BLANKLINE&gt;</span></code> in place of the
blank line. Otherwise the doctester will think that the output ends at the
blank line. <code class="docutils literal notranslate"><span class="pre">&lt;BLANKLINE&gt;</span></code> will be automatically hidden in the HTML
documentation. This is not common as most SymPy objects do not print with
blank lines.</p>
<!-- TODO: I don't know how to actually show an example here without it
    stripping BLANKLINE. The <pre> trick we used above doesn't work because
    it thinks <BLANKLINE> is a HTML tag. An example would be dotprint() (see
    the printing section of the tutorial). -->
</li>
<li><p>Avoid using <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> in doctest examples. If you need to show an
expression in an easier to read way, you can include it inline as LaTeX math
using dollar signs. If you absolutely must use <code class="docutils literal notranslate"><span class="pre">pprint()</span></code>, always use
<code class="docutils literal notranslate"><span class="pre">pprint(use_unicode=False)</span></code> as the Unicode characters used for pretty
printing do not always render correctly in the HTML documentation.</p></li>
<li><p>If you want to show that something returns <code class="docutils literal notranslate"><span class="pre">None</span></code> use <code class="docutils literal notranslate"><span class="pre">print</span></code>, like</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Symbol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">is_real</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">real</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">is_positive</span> <span class="c1"># Shows nothing, because it is None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">is_positive</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
</li>
<li><p>You can add short comments to doctests, either at the end of a line or by
themselves after <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code>. However, these should typically be only a few words
long. Detailed explanations of what is happening in the doctest should go
in the surrounding text.</p></li>
<li><p>Dictionaries and sets are automatically sorted by the doctester, and any
expressions are automatically sorted so that the order of terms is always
printed in the same way. Usually you can just include the output that the
doctester “expects” it and it will always pass subsequently.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="go">{&#39;a&#39;: 2, &#39;b&#39;: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">}</span>
<span class="go">{&#39;a&#39;, &#39;b&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span>
<span class="go">x + y</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="updating-existing-tests">
<span id="writing-tests-updating-existing-tests"></span><h2>Updating Existing Tests<a class="headerlink" href="#updating-existing-tests" title="Link to this heading">¶</a></h2>
<p>Sometimes when you change something or fix a bug, some existing tests will
fail. If this happens, you should check the test to see why it is failing. In
many cases, the test will be checking for something you didn’t consider, or
your change has an unexpected side effect that broke something else. When this
happens, you may need to revisit your change. If you are unsure what to do,
you should discuss it on the issue or pull request.</p>
<p>If the test that fails is a <a class="reference internal" href="#code-quality-checks"><span class="std std-ref">code quality test</span></a>, that
usually means you just need to fix your code so that it satisfies the code
quality check (e.g., remove trailing whitespace).</p>
<p>Occasionally, however, it can happen that the test fails but there is nothing
wrong. In this case, the test should be updated. The most common instance of
this is a test that checks for a specific expression, but the function now
returns a different, but mathematically equivalent expression. This is
especially common with <a class="reference internal" href="#writing-tests-doctests"><span class="std std-ref">doctests</span></a>, since they check
not just the output expression but the way it is printed.</p>
<p>If a function output is mathematically equivalent, the existing test can be
updated with the new output. However, even when doing this, you should be
careful:</p>
<ul class="simple">
<li><p>Carefully check that the new output is indeed the same. Manually check
something like if the difference of old and new expressions simplifies to 0.
Sometimes, two expressions are equivalent for some assumptions but not for
all, so check that the two expressions are really the same for all complex
numbers. This can particularly happen with expressions involving square
roots or other radicals. You can check random numbers, or use the <code class="docutils literal notranslate"><span class="pre">equals()</span></code>
method to do this.</p></li>
<li><p>If the new output is considerably more complicated than the old output, then
it may not be a good idea to update the test, even if they are
mathematically equivalent. Instead, you may need to adjust the change so
that the function still returns the simpler result.</p></li>
<li><p>It’s not common, but it can happen that an existing test is itself
incorrect. If a test is plain wrong, it should just be deleted, and updated.</p></li>
</ul>
<p>In any case, when updating an existing test, you should always explain the
rationale for doing so in a commit message or in a pull request comment. Do
not explain the change in a code comment or documentation. Code comments and
documentation should only refer to the code as it is. Discussion of changes
belongs in the commit messages or issue tracker. Code comments that talk about
how the code used to be will only become confusing and won’t actually be
relevant anymore once the change is made.</p>
<p>Again, the default should be to not change existing tests. The tests exist for
a reason, and changing them defeats the purpose of having them in the first
place. The exception to this rule is doctests, which are allowed to change or
be removed if they improve the documentation, as the primary purpose of
doctests is to serve as examples for users.</p>
</section>
<section id="code-quality-checks">
<span id="id1"></span><h2>Code Quality Checks<a class="headerlink" href="#code-quality-checks" title="Link to this heading">¶</a></h2>
<p>SymPy has several code quality checks that must pass. The first job that is
run on the CI on a pull request is the code quality checks. If this job fails,
none of the other tests are run. Your PR may be ignored by reviewers until
they are fixed.</p>
<p>The code quality checks are all straightforward to fix. You can run the checks
locally using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">test</span> <span class="n">quality</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flake8</span> <span class="n">sympy</span>
</pre></div>
</div>
<p>This second command requires you to install <code class="docutils literal notranslate"><span class="pre">flake8</span></code>. Make sure you have the
latest version of flake8 and its dependencies <code class="docutils literal notranslate"><span class="pre">pycodestyle</span></code> and <code class="docutils literal notranslate"><span class="pre">pyflakes</span></code>
installed. Sometimes newer versions of these packages will add new checks and
if you have an older version installed you won’t see the checks for them.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">./bin/test</span> <span class="pre">quality</span></code> check tests for very basic code quality things. The
most common of these that will cause the test to fail is trailing whitespace.
Trailing whitespace is when a line of code has spaces at the end of it. These
spaces do nothing, and they only cause the code diff to be polluted. The best
way to handle trailing whitespace is to configure your text editor to
automatically strip trailing whitespace when you save. You can also use the
<code class="docutils literal notranslate"><span class="pre">./bin/strip_whitepace</span></code> command in the SymPy repo.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">flake8</span></code> command will check the code for basic code errors like undefined
variables. These are restricted by the configuration in <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> to only
check for things that are logical errors. The usual flake8 checks for cosmetic
style errors are disabled. In rare situations, a flake8 warning will be a
false positive. If this happens, add a <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">noqa:</span> <span class="pre">&lt;CODE&gt;</span></code> comment to the
corresponding line, where <code class="docutils literal notranslate"><span class="pre">&lt;CODE&gt;</span></code> is the code for the error from
<a class="reference external" href="https://flake8.pycqa.org/en/latest/user/error-codes.html">https://flake8.pycqa.org/en/latest/user/error-codes.html</a>. For example, code
that uses <code class="docutils literal notranslate"><span class="pre">multipledispatch</span></code> will need to use</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="nd">@dispatch</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">funcname</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">):</span> <span class="c1"># noqa: F811</span>
    <span class="o">...</span>

<span class="nd">@dispatch</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">funcname</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">):</span> <span class="c1"># noqa: F811</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>to avoid warnings about redefining the same function multiple times.</p>
</section>
<section id="tests-style-guide">
<h2>Tests Style Guide<a class="headerlink" href="#tests-style-guide" title="Link to this heading">¶</a></h2>
<p>In most cases, tests should be written in a way that matches the surrounding
tests in the same test file.</p>
<p>A few important stylistic points should be followed when writing tests:</p>
<ul>
<li><p>Test functions should start with <code class="docutils literal notranslate"><span class="pre">test_</span></code>. If they do not, the test runner
will not test them. Any helper functions which are not test functions should
not start with <code class="docutils literal notranslate"><span class="pre">test_</span></code>. Usually it is best to start test helper functions
with an underscore. If you find yourself reusing the same helper function
for many test files, consider whether it should be moved to somewhere like
<code class="docutils literal notranslate"><span class="pre">sympy.testing</span></code>.</p></li>
<li><p>Format expressions using the same whitespace that would be produced by
<code class="docutils literal notranslate"><span class="pre">str()</span></code> (e.g., spaces around binary <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code>, no spaces around <code class="docutils literal notranslate"><span class="pre">*</span></code> and
<code class="docutils literal notranslate"><span class="pre">**</span></code>, space after comma, no redundant parentheses, etc.)</p></li>
<li><p>Avoid the use of Float values in test cases. Unless the test is explicitly
testing the result of a function on floating-point inputs, test expressions
should use exact values.</p>
<p>In particular, avoid using integer division like <code class="docutils literal notranslate"><span class="pre">1/2</span></code> that will create a
float value (see <a class="reference internal" href="../../tutorials/intro-tutorial/gotchas.html#tutorial-gotchas-final-notes"><span class="std std-ref">the gotchas section of the
tutorial</span></a>). For example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="k">assert</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># GOOD</span>
<span class="k">assert</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
</pre></div>
</div>
<p>If you do actually intend to explicitly test an expression with a
floating-point value, use a float (like <code class="docutils literal notranslate"><span class="pre">0.5</span></code> instead of <code class="docutils literal notranslate"><span class="pre">1/2</span></code>) so that it
is clear this is intentional and not accidental.</p>
</li>
<li><p>Symbols may be defined at the top of the test file or within each test
function. Symbols with assumptions that are defined at the top of the test
file should be named in a way that makes it clear they have an assumption
(e.g., <code class="docutils literal notranslate"><span class="pre">xp</span> <span class="pre">=</span> <span class="pre">Symbol('x',</span> <span class="pre">positive=True)</span></code>). It is often best to define
symbols that have assumptions inside each test function so that they are not
accidentally reused in another test that doesn’t expect them to have the
assumption defined (which can often change the behavior of the test).</p></li>
<li><p>Test files are typically named corresponding to the code file they test
(e.g., <code class="docutils literal notranslate"><span class="pre">sympy/core/tests/test_symbol.py</span></code> has the tests for
<code class="docutils literal notranslate"><span class="pre">sympy/core/symbol.py</span></code>). However, this rule can be broken if there are tests
that don’t exactly correspond to a specific code file.</p></li>
<li><p>Avoid using string forms of expressions in tests (obviously strings should
be used in the printing tests; this rule applies to other types of tests).
This makes the test depend on the exact printing output, rather than just
the expression output. This makes the test harder to read, and if the
printer is ever changed in some way, the test would have be updated.</p>
<p>For example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">expand</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="s1">&#39;x**3 + 6*x**2 + 12*x + 8&#39;</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># GOOD</span>
<span class="k">assert</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">6</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">12</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">8</span>
</pre></div>
</div>
<p>Similarly, do not parse the string form of an expression for input (unless
the test is explicitly testing parsing strings). Just create the expression
directly. Even if this requires creating many symbols or extensive use of
<code class="docutils literal notranslate"><span class="pre">S()</span></code> to wrap rationals, this is still cleaner.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="n">expr</span> <span class="o">=</span> <span class="n">sympify</span><span class="p">(</span><span class="s1">&#39;a*b*c*d*e&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">expr</span><span class="o">.</span><span class="n">count_ops</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># GOOD</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;a b c d e&#39;</span><span class="p">)</span>
<span class="n">expr</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="n">d</span><span class="o">*</span><span class="n">e</span>
<span class="k">assert</span> <span class="n">expr</span><span class="o">.</span><span class="n">count_ops</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span>
</pre></div>
</div>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">None</span></code> when testing assumptions. Don’t rely
on truthiness, as it’s easy to forget that <code class="docutils literal notranslate"><span class="pre">None</span></code> is considered false by
Python.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># BAD</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">is_real</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># GOOD</span>
<span class="k">assert</span> <span class="n">x</span><span class="o">.</span><span class="n">is_real</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="test-coverage">
<h2>Test Coverage<a class="headerlink" href="#test-coverage" title="Link to this heading">¶</a></h2>
<p>To generate a test coverage report, first install
<a class="reference external" href="https://coverage.readthedocs.io/en/latest/">coverage.py</a> (e.g., with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">coverage</span></code>). Then run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">coverage_report</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This will run the test suite and analyze which lines of the codebase are
covered by at least one test. Note that this will take longer than running the
tests normally with <code class="docutils literal notranslate"><span class="pre">./bin/test</span></code> because the coverage tooling makes Python run
a little bit slower. You can also run a subset of the tests, e.g.,
<code class="docutils literal notranslate"><span class="pre">./bin/coverage_report.py</span> <span class="pre">sympy/solvers</span></code>.</p>
<p>Once the tests are done, the coverage report will be in <code class="docutils literal notranslate"><span class="pre">covhtml</span></code>, which you
can view by opening <code class="docutils literal notranslate"><span class="pre">covhtml/index.html</span></code>. Each file will show which lines were
covered by a test (in green) and which were not covered by any test (in red).</p>
<p>Lines that are not covered by any test should have a test added for them, if
possible. Note that 100% coverage is generally impossible. There may be a line
of defensive code that checks if something has gone wrong, but which would
only be triggered if there is a bug. Or there may be some functionality that
is simply too hard to test (e.g., some code that interfaces with <a class="reference internal" href="../dependencies.html#optional-dependencies"><span class="std std-ref">external
dependencies</span></a>), or that is only triggered when a given
optional dependency is installed. However, if a line of code can be tested, it
should be. And, for instance, the test files themselves should have 100%
coverage. If a line in a test file is not covered, that generally indicates a
mistake (see <a class="reference external" href="https://nedbatchelder.com/blog/202008/you_should_include_your_tests_in_coverage.html">https://nedbatchelder.com/blog/202008/you_should_include_your_tests_in_coverage.html</a>).</p>
<p>Also be aware that coverage is not the end of the story. While a line of code
that is not tested has no guarantees of being correct, a line of code that is
covered is not guaranteed to be correct either. Maybe it is only tested for
general inputs, but not for corner cases. Sometimes code may have a
conditional, like <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">a</span> <span class="pre">or</span> <span class="pre">b</span></code>, and <code class="docutils literal notranslate"><span class="pre">a</span></code> is always true in every test, so that
the <code class="docutils literal notranslate"><span class="pre">b</span></code> condition is never tested. And of course, just because a line of code
is executed, doesn’t mean that is correct. The test needs to actually check
that the output of the function is what it is supposed to be. Test coverage is
just one part of ensuring the correctness of a codebase. See
<a class="reference external" href="https://nedbatchelder.com/blog/200710/flaws_in_coverage_measurement.html">https://nedbatchelder.com/blog/200710/flaws_in_coverage_measurement.html</a>.</p>
</section>
<section id="hypothesis-testing">
<h2>Hypothesis Testing<a class="headerlink" href="#hypothesis-testing" title="Link to this heading">¶</a></h2>
<p>Property based tests can now be created using the <a class="reference external" href="https://hypothesis.readthedocs.io/en/latest/quickstart.html">Hypothesis</a>
library. Tests should be added to the <code class="docutils literal notranslate"><span class="pre">test_hypothesis.py</span></code> file in the respective <code class="docutils literal notranslate"><span class="pre">tests</span></code> subdirectory. If the file does
not exist, create one. Below is an example of hypothesis test for modular arithmetic:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Mod</span>


<span class="nd">@given</span><span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">p</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">j</span><span class="p">:</span> <span class="n">j</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">test_modular</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">Mod</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">x</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">p</span><span class="p">})</span>
    <span class="k">assert</span> <span class="n">value</span> <span class="o">==</span> <span class="n">a</span> <span class="o">%</span> <span class="n">p</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="build-docs.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Building the Documentation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="workflow-process.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Development Workflow Process</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024 SymPy Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on May 08, 2024</div>
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/sympy/sympy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Writing Tests</a><ul>
<li><a class="reference internal" href="#testing-policies">Testing Policies</a></li>
<li><a class="reference internal" href="#basics-for-writing-tests">Basics for Writing Tests</a></li>
<li><a class="reference internal" href="#running-tests">Running Tests</a><ul>
<li><a class="reference internal" href="#debugging-test-failures-on-github-actions">Debugging Test Failures on GitHub Actions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#regression-tests">Regression Tests</a></li>
<li><a class="reference internal" href="#special-types-of-tests">Special Types of Tests</a><ul>
<li><a class="reference internal" href="#testing-exceptions">Testing Exceptions</a></li>
<li><a class="reference internal" href="#testing-warnings">Testing Warnings</a></li>
<li><a class="reference internal" href="#test-deprecated-functionality">Test Deprecated Functionality</a></li>
<li><a class="reference internal" href="#testing-that-something-is-unchanged">Testing that Something is Unchanged</a></li>
<li><a class="reference internal" href="#testing-expressions-with-dummy">Testing Expressions with <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">Dummy</span></code></span></a></li>
<li><a class="reference internal" href="#consistency-checks">Consistency Checks</a></li>
<li><a class="reference internal" href="#random-tests">Random Tests</a></li>
<li><a class="reference internal" href="#skipping-tests">Skipping Tests</a></li>
<li><a class="reference internal" href="#marking-tests-as-expected-to-fail">Marking Tests as Expected to Fail</a></li>
<li><a class="reference internal" href="#marking-tests-as-slow">Marking Tests as Slow</a></li>
<li><a class="reference internal" href="#writing-tests-with-external-dependencies">Writing Tests with External Dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#doctests">Doctests</a></li>
<li><a class="reference internal" href="#updating-existing-tests">Updating Existing Tests</a></li>
<li><a class="reference internal" href="#code-quality-checks">Code Quality Checks</a></li>
<li><a class="reference internal" href="#tests-style-guide">Tests Style Guide</a></li>
<li><a class="reference internal" href="#test-coverage">Test Coverage</a></li>
<li><a class="reference internal" href="#hypothesis-testing">Hypothesis Testing</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=0a77fd74"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    </body>
</html>